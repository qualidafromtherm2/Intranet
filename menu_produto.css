.chat-user-unread {
  background: #10b981;
  color: #fff;
  font-size: 13px;
  font-weight: 700;
  border-radius: 12px;
  padding: 2px 8px;
  margin-left: 8px;
  display: inline-block;
  min-width: 22px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(16,185,129,0.15);
}
/* ====== CHAT WHATSAPP STYLE ====== */
.chat-messages {
  padding: 24px 16px 12px 16px;
  background: #222d35;
  min-height: 320px;
  max-height: 400px;
  overflow-y: auto;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.chat-message {
  display: flex;
  flex-direction: column;
  max-width: 70%;
  min-width: 80px;
  padding: 8px 14px 6px 14px;
  border-radius: 16px;
  position: relative;
  font-size: 15px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  margin-bottom: 2px;
}
.chat-message-sent {
  align-self: flex-end;
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: #fff;
  border-bottom-right-radius: 4px;
}
.chat-message-received {
  align-self: flex-start;
  background: #2a3942;
  color: #e0e0e0;
  border-bottom-left-radius: 4px;
}
.chat-message-text {
  word-break: break-word;
  margin-bottom: 2px;
}
.chat-message-time {
  font-size: 12px;
  color: #b0b0b0;
  text-align: right;
  margin-top: 2px;
  display: flex;
  align-items: center;
  gap: 4px;
}
.chat-message-visto {
  color: #4fc3f7;
  font-size: 15px;
  margin-left: 2px;
}
.chat-user-item.is-active {
  background: #10b98122;
  border-radius: 8px;
  font-weight: 600;
}
.chat-user-item {
  padding: 8px 12px;
  cursor: pointer;
  border-bottom: 1px solid #222d35;
  transition: background 0.2s;
}
.chat-user-item:hover {
  background: #05966922;
}
.chat-input {
  display: flex;
  gap: 8px;
  padding: 12px 0 0 0;
}
#chatText {
  flex: 1;
  border-radius: 8px;
  border: none;
  padding: 10px 12px;
  font-size: 15px;
  background: #2a3942;
  color: #fff;
}
#chatText:disabled {
  background: #222d35;
  color: #888;
}
#chatSend {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0 18px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}
#chatSend:disabled {
  background: #222d35;
  color: #888;
  cursor: not-allowed;
}
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");
* {
  outline: none;
  box-sizing: border-box;
}

/* -------------------------------------------------
   CSS original do seu form (cole TODO este bloco)
   — lembrando de manter o @import do Montserrat no topo
------------------------------------------------- */
@import url("https://fonts.googleapis.com/css?family=Montserrat:400,800");


/* === Galeria de Fotos === */
/*@import url(https://pro.fontawesome.com/releases/v5.11.2/css/all.css);*/
:root {
  --user-button-circle: rgba(0,0,0,0.025);
  --user-button-cardborder: rgba(255,255,255,0.25);
  --user-button-text:#323133;
  --user-button-shadow:rgba(0,0,0,0.1);
}

:root {
  --theme-bg-color: rgba(16 18 27 / 40%);
  --border-color: rgba(113 119 144 / 25%);
  --theme-color: #f9fafb;
  --inactive-color: rgb(113 119 144 / 78%);
  --body-font: "Poppins", sans-serif;
  --hover-menu-bg: rgba(12 15 25 / 30%);
  --content-title-color: #999ba5;
  --content-bg: rgb(146 151 179 / 13%);
  --button-inactive: rgb(249 250 251 / 55%);
  --dropdown-bg: #21242d;
  --dropdown-hover: rgb(42 46 60);
  --popup-bg: rgb(22 25 37);
  --search-bg: #14162b;
  --overlay-bg: rgba(36, 39, 59, 0.3);
  --scrollbar-bg: rgb(1 2 3 / 40%);
  --detalhes-offset: 360px;
}

.light-mode {
  --theme-bg-color: rgb(255 255 255);
  --theme-color: #1f2937;
  --inactive-color: #6b7280;
  --button-inactive: #d1d5db;
  --search-bg: rgb(249 250 251);
  --dropdown-bg: #ffffff;
  --overlay-bg: rgb(31 41 55 / 10%);
  --dropdown-hover: rgb(243 244 246);
  --border-color: rgb(229 231 235);
  --popup-bg: rgb(255 255 255);
  --hover-menu-bg: rgba(31 41 55 / 5%);
  --scrollbar-bg: rgb(209 213 219 / 70%);
  --content-title-color: #111827;
  --content-bg: rgb(249 250 251);
}

html {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
}

body {
  font-family: var(--body-font);
  background-image: url("../img/fundo.png");

  background-size: cover;
  background-position: center;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  padding: 2em;
  width: 100%;
  height: 100vh;
}

/* ====== Lista de sugestões (Descrição breve do pedido) ====== */
#catalogoDescricaoLista {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  right: 0;
  max-height: 220px;
  overflow-y: auto;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
  padding: 6px 0;
  margin: 0;
  list-style: none;
  z-index: 9999;
  display: none;
}

#catalogoDescricaoLista li {
  padding: 8px 12px;
  font-size: 12px;
  color: #111827;
  cursor: pointer;
  line-height: 1.2;
}

#catalogoDescricaoLista li:hover,
#catalogoDescricaoLista li.is-active {
  background: #eff6ff;
  color: #1d4ed8;
}
@media screen and (max-width: 480px) {
  body {
    padding: 0.8em;
  }
}

.video-bg {
  position: fixed;
  right: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.video-bg video {
  width: 100%;
  height: 100%;
  -o-object-fit: cover;
     object-fit: cover;
}

img {
  max-width: 100%;
}

.dark-light {
  position: fixed;
  bottom: 50px;
  right: 30px;
  background-color: var(--dropdown-bg);
  box-shadow: -1px 3px 8px -1px rgba(0, 0, 0, 0.2);
  padding: 8px;
  border-radius: 50%;
  z-index: 3;
  cursor: pointer;
  transition: all 0.3s ease;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
}
.dark-light:hover {
  transform: scale(1.1);
  box-shadow: -1px 5px 12px -1px rgba(0, 0, 0, 0.3);
}
.dark-light svg {
  width: 24px;
  flex-shrink: 0;
  fill: #fbbf24;
  stroke: #fbbf24;
  transition: 0.5s;
}

.light-mode .dark-light {
  background-color: #f3f4f6;
  border: 2px solid #e5e7eb;
}

.light-mode .dark-light:hover {
  background-color: #e5e7eb;
  border-color: #d1d5db;
}

.light-mode .dark-light svg {
  fill: #1f2937;
  stroke: #1f2937;
}
.light-mode .profile-img {
  border: 2px solid var(--theme-bg-color);
}
.light-mode .content-section ul {
  background-color: var(--theme-bg-color);
}
.light-mode .pop-up__title {
  border-color: var(--theme-color);
}
.light-mode .dropdown.is-active ul {
  background-color: rgba(255, 255, 255, 0.94);
}

/* Ícones em modo claro */
.light-mode i {
  color: #1f2937;
}

.light-mode .fa-solid,
.light-mode .fa-regular,
.light-mode .fa-light,
.light-mode .fa-thin,
.light-mode .fa-duotone,
.light-mode [class*="fa-"] {
  color: #1f2937 !important;
}

/* Ícones específicos que precisam ser claros em modo claro */
.light-mode .header-profile i {
  color: #6b7280;
}

.light-mode .menu-link i {
  color: #1f2937;
}

.light-mode .content-button i,
.light-mode button i {
  color: inherit;
}

.light-mode .notification i {
  color: #6b7280;
}

body.light-mode:before,
body.light-mode .video-bg:before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100vh;
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 50%, #f3f4f6 100%);
  -webkit-backdrop-filter: saturate(1);
          backdrop-filter: saturate(1);
}

body.light-mode {
  background-image: none;
  background-color: #f9fafb;
}

.app {
  background-color: var(--theme-bg-color);
  max-width: 98%;
  max-height: 860px;
  height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
  width: 100%;
  border-radius: 14px;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  font-size: 15px;
  font-weight: 500;
}

.light-mode .app {
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
}

.header {
  display: flex;
  align-items: center;
  flex-shrink: 0;
  height: 58px;
  width: 100%;
  border-bottom: 1px solid var(--border-color);
  padding: 0 30px;
  white-space: nowrap;
}

.light-mode .header {
  border-bottom-color: #e5e7eb;
}

@media screen and (max-width: 480px) {
  .header {
    padding: 0 16px;
  }
}
.header-menu {
  display: flex;
  align-items: center;
  flex: 1;
  gap: 6px;
  min-width: 0;
  justify-content: flex-start;
}
.header-menu a {
  padding: 16px 20px;
  text-decoration: none;
  color: var(--inactive-color);
  border-bottom: 2px solid transparent;
  transition: 0.3s;
}
@media screen and (max-width: 610px) {
  .header-menu a:not(.main-header-link) {
    display: none;
  }
}
.header-menu a.is-active, .header-menu a:hover {
  color: var(--theme-color);
  border-bottom: 2px solid var(--theme-color);
}

/* badge do usuário fica após o menu; margem garante respiro visual */
.user-badge {
  margin-left: 12px;
}

.notify {
  position: relative;
}
.notify:before {
  content: "";
  position: absolute;
  background-color: #3a6df0;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: 20px;
  top: 16px;
}
@media screen and (max-width: 1055px) {
  .notify {
    display: none;
  }
}

.search-bar {                /* sempre visível */
  flex: 1 1 260px;          /* cresce até 100%, mas parte de 260  */
  min-width: 0;             /* permite encolher em telas bem pequenas */
  height: 40px;
  display: flex;
  padding-left: 16px;
  border-radius: 4px;
}
.search-bar input {          /* continua igual */
  width: 100%;
  height: 100%;
  border: none;
  background-color: var(--search-bg);
  border-radius: 4px;
  font-family: var(--body-font);
  font-size: 15px;
  font-weight: 500;
  padding: 0 20px 0 40px;
  box-shadow: 0 0 0 2px rgba(134, 140, 160, 0.02);
background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 56.966 56.966' fill='%23717790c7'%3e%3cpath d='M55.146 51.887L41.588 37.786A22.926 22.926 0 0046.984 23c0-12.682-10.318-23-23-23s-23 10.318-23 23 10.318 23 23 23c4.761 0 9.298-1.436 13.177-4.162l13.661 14.208c.571.593 1.339.92 2.162.92.779 0 1.518-.297 2.079-.837a3.004 3.004 0 00.083-4.242zM23.984 6c9.374 0 17 7.626 17 17s-7.626 17-17 17-17-7.626-17-17 7.626-17 17-17z'/%3e%3c/svg%3e");
  background-size: 14px;
  background-repeat: no-repeat;
  background-position: 16px 48%;
  color: var(--theme-color);
}

.search-bar.active {           /* estado aberto (classe vem do JS) */
max-width: 480px;          /* 260 → 480 px; ajuste se quiser */

}

.search-bar.active input {     /* o próprio <input> ganha foco */
  cursor: text;
}
.search-bar input::-moz-placeholder {
  font-family: var(--body-font);
  color: var(--inactive-color);
  font-size: 15px;
  font-weight: 500;
}
.search-bar input:-ms-input-placeholder {
  font-family: var(--body-font);
  color: var(--inactive-color);
  font-size: 15px;
  font-weight: 500;
}
.search-bar input::placeholder {
  font-family: var(--body-font);
  color: var(--inactive-color);
  font-size: 15px;
  font-weight: 500;
}

.header-profile {
  margin-left: auto;         /* empurra p/ borda direita           */
  display: flex;
  align-items: center;
  gap: 16px;                 /* distância igual entre os ícones    */
  padding-left: 40px;        /* mesmo recuo que o campo de busca   */
  flex: 0 0 200px;
  flex-shrink: 0;            /* ❸ NUNCA encolha              */

}

.header-menu{
  display:flex;
  flex: 0 1 auto;          /* deixa o menu encolher         */
  overflow:hidden;         /* esconde links que não cabem   */
}

.header-profile svg {
  width: 22px;
  color: #f9fafb;
  flex-shrink: 0;
}

.notification {
  position: relative;
}
.notification-number {
  position: absolute;
  background-color: #3a6df0;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  right: -6px;
  top: -6px;
}
.notification + svg {
  margin-left: 22px;
}
@media screen and (max-width: 945px) {
  .notification + svg {
    display: none;
  }
}

.profile-img {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  -o-object-fit: cover;
     object-fit: cover;
  border: 2px solid var(--theme-color);
  margin-left: 22px;
}

.wide .header-menu,
.wide .header-profile {
  display: none;
}
.wide .search-bar {
  max-width: 600px;
  margin: auto;
  transition: 0.4s;
  box-shadow: 0 0 0 1px var(--border-color);
  padding-left: 0;
}
.wide .menu-circle {
  margin-right: 0;
}

.wrapper {
  display: flex;
  flex-grow: 1;
  overflow: hidden;
}

.left-side {
  flex-basis: 60px;
  border-right: 1px solid var(--border-color);
  padding: 16px;
  overflow: visible;
  flex-shrink: 0;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.sidebar-hamburger {
  background: var(--primary-color);
  border: none;
  border-radius: 8px;
  color: white;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 20px;
  position: relative;
}

.light-mode .sidebar-hamburger {
  color: #1f2937;
}
  z-index: 1001;
}

.sidebar-hamburger:hover {
  background: #2563eb;
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.sidebar-hamburger.active {
  background: #1d4ed8;
}

.sidebar-content {
  position: absolute;
  left: 76px;
  top: 16px;
  width: 240px;
  height: 600px !important;
  max-height: 600px !important;
  background: rgba(30, 30, 30, 0.98);
  border: 2px solid var(--card-border-color);
  border-radius: 12px;
  padding: 20px;
  padding-bottom: 10px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
  z-index: 1000;
  overflow-y: scroll !important;
  overflow-x: hidden !important;
  transition: all 0.3s ease;
  display: block !important;
}

/* Customização da scrollbar do menu lateral */
.sidebar-content::-webkit-scrollbar {
  width: 6px;
}

.sidebar-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  margin: 8px 0;
}

.sidebar-content::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.5);
  border-radius: 3px;
  transition: background 0.3s ease;
}

.sidebar-content::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.8);
}

/* Para Firefox */
.sidebar-content {
  scrollbar-width: thin;
  scrollbar-color: rgba(59, 130, 246, 0.5) rgba(0, 0, 0, 0.2);
}

.light-mode .sidebar-content {
  background: rgba(255, 255, 255, 0.98);
}

/* Scrollbar no modo light */
.light-mode .sidebar-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
}

.light-mode .sidebar-content::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.4);
}

.light-mode .sidebar-content::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.7);
}

.light-mode .sidebar-content {
  scrollbar-color: rgba(59, 130, 246, 0.4) rgba(0, 0, 0, 0.05);
}

.sidebar-content.collapsed {
  visibility: hidden;
  opacity: 0;
  transform: translateX(-20px);
  pointer-events: none;
}

.sidebar-content:not(.collapsed) {
  visibility: visible;
  opacity: 1;
  transform: translateX(0);
  pointer-events: auto;
}

@media screen and (max-width: 945px) {
  .left-side {
    display: none;
  }
}

.side-wrapper + .side-wrapper {
  margin-top: 20px;
}

.side-title {
  color: var(--inactive-color);
  margin-bottom: 14px;
}

.side-menu {
  display: flex;
  flex-direction: column;
  white-space: nowrap;
}
.side-menu a {
  text-decoration: none;
  color: var(--theme-color);
  display: flex;
  align-items: center;
  font-weight: 400;
  padding: 10px;
  font-size: 14px;
  border-radius: 6px;
  transition: 0.3s;
}
.side-menu a:hover {
  background-color: var(--hover-menu-bg);
}
.side-menu svg {
  width: 16px;
  margin-right: 8px;
}

.updates {
  position: relative;
  top: 0;
  right: 0;
  margin-left: auto;
  width: 18px;
  height: 18px;
  font-size: 11px;
}

.main-header {
  display: flex;
  align-items: center;
  border-bottom: 1px solid var(--border-color);
  height: 56px;              /* barra mais compacta */
  padding: 0 12px;           /* leve respiro lateral */
  flex-shrink: 0;
  gap: 8px;                  /* espaço entre "+ Novo" e guias */
}
.main-header { overflow: visible; }

/* Garante afastamento do header principal e evita que as labels fiquem "sob" ele */
#produtoTabs > .main-header {
  margin-top: 8px;
  padding-top: 2px;
  position: relative;
  z-index: 1;
}
.main-header .header-menu {
  margin-left: 0;            /* encosta nas bordas do container */
  display: flex;
  align-items: center;
  flex: 1 1 auto;            /* ocupa o restante da linha */
  min-width: 0;              /* permite encolher para overflow-x */
  overflow-x: auto;          /* mantém em uma linha com rolagem */
  white-space: nowrap;       /* impede quebra das guias */
  gap: 0;                    /* guias controlam o próprio padding */
  -webkit-overflow-scrolling: touch;
}
@media screen and (max-width: 1055px) {
  .main-header .header-menu {
    margin: 0;
  }
  .main-header {
    height: auto;
    min-height: 58px;
    padding: 8px 0;
  }
}
.main-header .header-menu a {
  display: inline-flex;
  align-items: center;
  height: 40px;              /* mesma altura visual do botão */
  line-height: 40px;
  padding: 0 16px;           /* padding horizontal apenas */
}

/* Estilo para o botão Novo */
.btn-novo-produto {
  flex-shrink: 0;
  white-space: nowrap;
  height: 40px;               /* igual às guias */
  padding: 0 16px;            /* alinha baseline com tabs */
}

@media screen and (max-width: 768px) {
  .btn-novo-produto {
    margin-left: 10px !important;
    margin-right: 5px !important;
    font-size: 14px;
    padding: 6px 12px;
  }
  .main-header .header-menu a {
    padding: 12px 16px;
    font-size: 14px;
  }
}

.main-container {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  /* evita que o conteúdo interno force largura além do disponível */
  min-width: 0;
}

.menu-link-main {
  text-decoration: none;
  color: var(--theme-color);
  padding: 0 30px;
}
@media screen and (max-width: 1055px) {
  .menu-link-main {
    display: none;
  }
}

.content-wrapper {
  display: flex;
  flex-direction: column;
  color: var(--theme-color);
  padding: 20px 40px;
  height: 100%;
  overflow: auto;
  background-color: var(--theme-bg-color);
  /* permite que filhos em flex/grids não estourem a largura */
  min-width: 0;
}

/* Ajusta o topo do painel de compras para reduzir espaço vazio */
#comprasFormPane .content-wrapper {
  padding-top: 0;
}

/* Compras (lista): trava barra superior + cabeçalho sem transparência */
#minhasComprasWrapper {
  --compras-lista-topo-offset: 64px;
  margin-top: 0 !important;
  background: #f3f4f6;
}

#comprasListaToolbar {
  position: sticky;
  top: 0;
  z-index: 140;
  margin-top: 0;
  padding: 8px 0 10px;
  background: #f3f4f6;
  border-bottom: 1px solid #d1d5db;
  isolation: isolate;
}

#comprasListaToolbar::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: -16px;
  height: 16px;
  background: inherit;
  pointer-events: none;
}

#listaMinhasSolicitacoes {
  position: relative;
  z-index: 1;
  background: #f3f4f6;
  padding-top: 2px;
}

#listaMinhasSolicitacoes table {
  background: #ffffff;
}

#listaMinhasSolicitacoes #listaMinhasSolicitacoesTabela > thead > tr {
  background: #f9fafb !important;
}

#listaMinhasSolicitacoes #listaMinhasSolicitacoesTabela > thead > tr > th {
  position: sticky;
  top: var(--compras-lista-topo-offset) !important;
  z-index: 130 !important;
  background: #f9fafb !important;
  box-shadow: 0 2px 0 #e5e7eb !important;
  background-clip: padding-box;
}

/* Não fixar cabeçalhos de tabelas internas (produtos) */
#listaMinhasSolicitacoes #listaMinhasSolicitacoesTabela tbody table thead th {
  position: static !important;
  top: auto !important;
  z-index: auto !important;
  box-shadow: none !important;
}

body:not(.light-mode) #comprasListaToolbar {
  background: #0f172a;
  border-bottom-color: #334155;
}

body:not(.light-mode) #minhasComprasWrapper {
  background: #0f172a;
}

body:not(.light-mode) #listaMinhasSolicitacoes {
  background: #0f172a;
}

body:not(.light-mode) #listaMinhasSolicitacoes #listaMinhasSolicitacoesTabela > thead > tr > th {
  color: #e5e7eb !important;
  background: #111827 !important;
  box-shadow: 0 2px 0 #334155 !important;
}
@media screen and (max-width: 510px) {
  .content-wrapper {
    margin: 0;
  }
}
.content-wrapper-header {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-image: url("https://www.transparenttextures.com/patterns/cubes.png"), linear-gradient(to right top, #cf4af3, #e73bd7, #f631bc, #fd31a2, #ff3a8b, #ff4b78, #ff5e68, #ff705c, #ff8c51, #ffaa49, #ffc848, #ffe652);
  border-radius: 14px;
  padding: 20px 40px;
}
@media screen and (max-width: 415px) {
  .content-wrapper-header {
    padding: 20px;
  }
}
.content-wrapper.overlay {
  pointer-events: none;
  transition: 0.3s;
  background-color: var(--overlay-bg);
}

.overlay-app {
  width: 100%;
  height: 100%;
  position: fixed;
  left: 0;
  top: 0;
  pointer-events: all;
  background-color: rgba(36, 39, 59, 0.8);
  opacity: 0;
  visibility: hidden;
  transition: 0.3s;
}
.overlay-app.is-active {
  visibility: visible;
  opacity: 1;
}

.img-content {
  font-weight: 500;
  font-size: 17px;
  display: flex;
  align-items: center;
  margin: 0;
}
.img-content svg {
  width: 28px;
  margin-right: 14px;
}

.content-text {
  font-weight: 400;
  font-size: 14px;
  margin-top: 16px;
  line-height: 1.7em;
  color: #ebecec;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.content-wrapper-context {
  max-width: 350px;
}

.content-button {
  background-color: #3a6df0;
  border: none;
  padding: 8px 26px;
  color: #fff;
  border-radius: 20px;
  margin-top: 16px;
  cursor: pointer;
  transition: 0.3s;
  white-space: nowrap;
}

/* === Botões consistentes (RI/PIR e afins) === */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  border-radius: 12px;
  border: 1px solid transparent;
  cursor: pointer;
  font-weight: 600;
  line-height: 1;
  transition: background-color .15s ease, border-color .15s ease, filter .15s ease, transform .05s ease;
}
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn:active   { transform: translateY(0.5px); }

.btn-primary { background: #3a6df0; color: #fff; }
.btn-primary:hover { filter: brightness(1.05); }

.btn-danger  { background: #e74c3c; color: #fff; }
.btn-danger:hover  { filter: brightness(1.05); }

.btn-secondary {
  background: transparent;
  color: var(--theme-color);
  border-color: var(--button-inactive);
}
.btn-secondary:hover {
  border-color: #fff;
  color: #fff;
}

/* --- PIR: select de frequência (fundo escuro) ---------------------------- */
#pirFrequencia,
#editPirFrequencia {
  background: #0f172a;
  color: #f9fafb;
}
#pirFrequencia option,
#editPirFrequencia option {
  background: #0f172a;
  color: #f9fafb;
}

/* --- foto do produto ----------------------------------------------------- */
.content-wrapper-img{
  max-height:180px;       /* escolha a altura que caiba bem no card          */
  width:auto;
  object-fit:contain;     /* não estica a imagem                             */
  margin-left:auto;       /* empurra a imagem para a borda direita do card   */
  border-radius:6px;      /* opcional – deixa cantos suaves                  */
}
@media screen and (max-width: 570px) {
  .content-wrapper-img {
    width: 110px;
  }
}

.content-section {
  margin-top: 30px;
  display: flex;
  flex-direction: column;
  /* impede estourar em layouts flex */
  min-width: 0;
}
.content-section-title {
  color: var(--content-title-color);
  margin-bottom: 14px;
}
.content-section ul {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  justify-content: space-around;
  background-color: var(--content-bg);
  padding-left: 0;
  margin: 0;
  border-radius: 14px;
  border: 1px solid var(--theme-bg-color);
  cursor: pointer;
}
.content-section ul li {
  list-style: none;
  padding: 10px 18px;
  display: flex;
  align-items: center;
  font-size: 16px;
  width: 100%;
  height: 100%;
  white-space: nowrap;
  transition: 0.3s;
}
.content-section ul li:hover {
  background-color: var(--theme-bg-color);
}
.content-section ul li:hover:first-child {
  border-radius: 13px 13px 0 0;
}
.content-section ul li:hover:last-child {
  border-radius: 0 0 13px 13px;
}
.content-section ul li + li {
  border-top: 1px solid var(--border-color);
}
.content-section ul svg {
  width: 28px;
  border-radius: 6px;
  margin-right: 16px;
  flex-shrink: 0;
}
/* Override: não aplicar margem nem largura gigante nos ícones de ação da PCP */
#listaPecasPCPList .acao svg { margin:0 !important; width:16px; height:16px; }

.products {
  display: flex;
  align-items: center;
  width: 150px;
}
@media screen and (max-width: 480px) {
  .products {
    width: 120px;
  }
}

.status {
  margin-left: auto;
  width: 140px;
  font-size: 15px;
  position: relative;
}
@media screen and (max-width: 700px) {
  .status {
    display: none;
  }
}
.status-circle {
  width: 6px;
  height: 6px;
  background-color: #396df0;
  position: absolute;
  border-radius: 50%;
  top: 4px;
  left: -20px;
}
.status-circle.green {
  background-color: #3bf083;
}
.status-button {
  font-size: 15px;
  margin-top: 0;
  padding: 6px 24px;
}
@media screen and (max-width: 390px) {
  .status-button {
    padding: 6px 14px;
  }
}
.status-button.open {
  background: none;
  color: var(--button-inactive);
  border: 1px solid var(--button-inactive);
}
.status-button:not(.open):hover {
  color: #fff;
  border-color: #fff;
}

.icon-btn.status-button,
.produce-btn.status-button {
  padding: 0 !important;
}

.content-button:not(.open):hover {
  background: #1e59f1;
}

.menu {
  width: 5px;
  height: 5px;
  background-color: var(--button-inactive);
  border-radius: 50%;
  box-shadow: 7px 0 0 0 var(--button-inactive), 14px 0 0 0 var(--button-inactive);
  margin: 0 12px;
}

@media screen and (max-width: 415px) {
  .adobe-product .menu {
    display: none;
  }
}
.dropdown {
  position: relative;
  height: 53px;
  width: 40px;
  top: -24px;
  display: flex;
  left: -5px;
  background: transparent;
  border: none;
  cursor: pointer;
}
.dropdown ul {
  position: absolute;
  background: var(--dropdown-bg);
  height: 110px;
  width: 120px;
  right: 0;
  top: 20px;
  pointer-events: none;
  opacity: 0;
  transform: translatey(10px);
  transition: all 0.4s ease;
}
.dropdown ul li a {
  text-decoration: none;
  color: var(--theme-color);
  font-size: 12px;
}

.dropdown.is-active ul {
  opacity: 1;
  pointer-events: all;
  transform: translatey(25px);
}
.dropdown.is-active ul li:hover {
  background-color: var(--dropdown-hover);
}

.button-wrapper {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  width: 187px;
  margin-left: auto;
}
@media screen and (max-width: 480px) {
  .button-wrapper {
    width: auto;
  }
}

.pop-up {
  position: absolute;
  padding: 30px 40px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  overflow-y: auto;
  box-shadow: 0px 6px 30px rgba(0, 0, 0, 0.4);
  transition: all 0.3s;
  z-index: 10;
  background-color: var(--popup-bg);
  width: 500px;
  visibility: hidden;
  opacity: 0;
  border-radius: 6px;
  display: flex;
  flex-direction: column;
  white-space: normal;
}
@media screen and (max-width: 570px) {
  .pop-up {
    width: 100%;
  }
}
.pop-up.visible {
  visibility: visible;
  opacity: 1;
}
.pop-up__title {
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.pop-up__subtitle {
  white-space: normal;
  margin: 20px 0;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.8em;
}
.pop-up__subtitle a {
  color: var(--theme-color);
}

.content-button-wrapper .content-button.status-button.open.close {
  width: auto;
}

.content-section .close {
  margin-right: 0;
  width: 24px;
}

.checkbox-wrapper {
  display: flex;
  align-items: center;
  font-size: 14px;
  font-weight: 400;
}
.checkbox-wrapper + .checkbox-wrapper {
  margin: 20px 0 40px;
}

.checkbox {
  display: none;
}

.checkbox + label {
  display: flex;
  align-items: center;
}
.checkbox + label:before {
  content: "";
  margin-right: 10px;
  width: 15px;
  height: 15px;
  border: 1px solid var(--theme-color);
  border-radius: 4px;
  cursor: pointer;
  flex-shrink: 0;
}

.checkbox:checked + label:before {
  background-color: #3a6df0;
  border-color: #3a6df0;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23fff' stroke-width='3' stroke-linecap='round' stroke-linejoin='round' class='feather feather-check'%3e%3cpath d='M20 6L9 17l-5-5'/%3e%3c/svg%3e");
  background-position: 50%;
  background-size: 12px;
  background-repeat: no-repeat;
}

.content-button-wrapper {
  margin-top: auto;
  margin-left: auto;
}
.content-button-wrapper .open {
  margin-right: 8px;
}

.apps-card {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  width: calc(100% + 20px);
}

.app-card {
  display: flex;
  flex-direction: column;
  width: calc(33.3% - 20px);
  font-size: 16px;
  background-color: var(--content-bg);
  border-radius: 14px;
  border: 1px solid var(--theme-bg-color);
  padding: 20px;
  cursor: pointer;
  transition: 0.3s ease;
}
.app-card:hover {
  transform: scale(1.02);
  background-color: var(--theme-bg-color);
}
.app-card svg {
  width: 28px;
  border-radius: 6px;
  margin-right: 12px;
  flex-shrink: 0;
}
.app-card + .app-card {
  margin-left: 20px;
}
.app-card span {
  display: flex;
  align-items: center;
}
.app-card__subtext {
  font-size: 14px;
  font-weight: 400;
  line-height: 1.6em;
  margin-top: 20px;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 20px;
}
.app-card-buttons {
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-top: 16px;
}
@media screen and (max-width: 1110px) {
  .app-card {
    margin-left: 6px !important;
    margin-right: 4px !important;
    font-size: 14px;
    margin-left: 0px;
  }
  .app-card {
    width: calc(100% - 20px);
    margin-top: 20px;
  }
  .app-card + .app-card {
    margin-left: 0;
  }
}

::-webkit-scrollbar {
  width: 6px;
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-bg);
  border-radius: 10px;
}

.product-details {
  max-height: 600px;    /* ajuste pra caber bem no layout */
  overflow-y: auto;     /* aparece a scrollbar quando ultrapassar */
  padding-right: 8px;    /* para o scroll não cobrir o conteúdo */
}
.product-details::-webkit-scrollbar {
  width: 6px;
}
.product-details::-webkit-scrollbar-thumb {
  background: rgba(134, 140, 160, 0.3);
  border-radius: 4px;
}

/* ====== Estilo moderno para os S/N ====== */
.product-details .submenu select.sn-toggle {
  /* remove estilos nativos */
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;

  /* cores e borda */
  background-color: var(--dropdown-bg);
  color: var(--theme-color);
  border: 1px solid var(--border-color);
  border-radius: 20px;

  /* tamanho e padding */
  padding: 6px 12px;
  font-size: 14px;
  width: 70px;
  text-align: center;

  /* ESPAÇO extra entre o label e o select */
  margin-left: 12px;

  /* seta customizada (SVG inline) */
  background-image: url("data:image/svg+xml,%3Csvg fill='%23fff' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0l5 6 5-6H0z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 8px center;
  cursor: pointer;
}

/* foco mais evidente */
.product-details .submenu select.sn-toggle:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--theme-color);
}


/* ==== Truncamento + ellipsis na coluna de valor dos detalhes ==== */
/* 1) fazemos com que cada <li> seja um flex container */
.product-details li {
  display: flex;
  align-items: center;
}

/* 2) aumentamos um pouco a coluna de rótulo (se quiser) */
.product-details .products {
  flex: 0 0 200px;    /* antes era 150px, agora cabe um pouco mais */
}

/* 3) e deixamos a coluna de valor crescer livremente */
.product-details .status {
  flex: 1 1 auto;     /* cresce pra preencher o que sobrar */
  min-width: 0;       /* importante para o texto poder ser truncado */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  cursor: pointer;
  transition: max-height 0.2s ease;
}

/* estado expanded: mostra tudo */
.product-details .status.expanded {
  white-space: normal;
  overflow: visible;
  text-overflow: clip;
  max-height: none;
}
/* 4) mantém o botão sempre à direita */
.product-details .button-wrapper {
  flex: 0 0 auto;
}

/* ————————————————————————————————
   Lista de produtos - Linhas clicáveis (sem botão Abrir)
   ———————————————————————————————— */
.product-list-item {
  cursor: pointer !important;
  transition: all 0.2s ease;
}

.product-list-item:hover {
  background-color: var(--theme-bg-color) !important;
  transform: translateX(4px);
}

.product-list-item:active {
  transform: translateX(2px);
  background-color: var(--button-bg) !important;
}

/* Remove o button-wrapper se ainda existir */
.product-list-item .button-wrapper {
  display: none;
}

/* ————————————————————————————————
   Destacar e reposicionar o código do produto
   ———————————————————————————————— */
  
  .content-wrapper-header .img-content #productTitle {
    /* dobra o tamanho do texto, coloca em negrito e afasta um pouco do ícone */
    font-size: 1.5em;
    font-weight: 500;
    margin-left: 0.5rem;
  }
  
  /* ————————————————————————————————
   Aumentar tamanho da descrição do produto
   ———————————————————————————————— */
.content-wrapper-header .content-text {
  font-size: 1.2em; /* ajuste o valor conforme sua preferência */
  line-height: 1.5em;
}

/* esconde de vez a bolinha antiga */
.menu-circle {
  display: none !important;
}

/* novo logo no lugar das bolinhas */
.menu-logo {
  width: 120px;           /* aumenta largura para melhor proporção */
  height: 60px;           /* aumenta altura para não cortar a logo */
  object-fit: contain;    /* mostra a imagem inteira, sem cortar */
  margin-right: 195px;    /* mantém o espaçamento para a direita */
  flex-shrink: 0;         /* não deixa encolher */
  background: transparent;
  display: block;
}

.detail-input {
  width: calc(100% - 8px);
  padding: 4px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 14px;
}

.fault-message {
  margin-top: 1rem;
  padding: 0.5rem;
  background-color: #ffe5e5;
  color: #c00;
  border-radius: 4px;
  font-weight: bold;
}


.pagination-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 12px;
  flex-wrap: wrap;
}
.pagination-wrapper .content-button {
  padding: 6px 12px;
  font-size: 14px;
  border-radius: 20px;
  border: 1px solid var(--theme-color);
  background: transparent;
  color: var(--theme-color);
  cursor: pointer;
  transition: 0.2s;
}
.pagination-wrapper .content-button:hover:not(:disabled) {
  background-color: var(--theme-color);
  color: var(--theme-bg-color);
}
.pagination-wrapper .content-button:disabled {
  opacity: 0.4;
  cursor: default;
}
.pagination-wrapper .content-button.active {
  background-color: var(--theme-color);
  color: var(--theme-bg-color);
}
.pagination-wrapper span {
  color: var(--theme-color);
  font-size: 14px;
  margin: 0 4px;
}

/* filtro de código (mesmo estilo da search-bar) */
.filter-bar {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}
.filter-bar input {
  width: 100%;
  height: 40px;
  border: none;
  flex: 1;
  background-color: var(--search-bg);
  border-radius: 4px;
  font-family: var(--body-font);
  font-size: 15px;
  font-weight: 500;
  padding: 0 20px 0 40px;
  box-shadow: 0 0 0 2px rgba(134, 140, 160, 0.02);
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 56.966 56.966' fill='%23717790c7'%3e%3cpath d='M55.146 51.887L41.588 37.786A22.926 22.926 0 0046.984 23c0-12.682-10.318-23-23-23s-23 10.318-23 23 10.318 23 23 23c4.761 0 9.298-1.436 13.177-4.162l13.661 14.208c.571.593 1.339.92 2.162.92.779 0 1.518-.297 2.079-.837a3.004 3.004 0 00.083-4.242zM23.984 6c9.374 0 17 7.626 17 17s-7.626 17-17 17-17-7.626-17-17 7.626-17 17-17z'/%3e%3c/svg%3e");
  background-size: 14px;
  background-repeat: no-repeat;
  background-position: 16px 48%;
  color: var(--theme-color);
  max-width: 300px;     /* ou o valor que fizer sentido */
}
.filter-bar input::placeholder {
  color: var(--inactive-color);
}



/* === Spinner SVG com porcentagem === */

.title-wrapper {
  display: flex;
  align-items: center;
  gap: 0.5em; /* espaçamento entre texto e spinner */
}

#productSpinner {
  display: block;
  width: 50px;
  height: 50px;
  margin: 0;          /* fica colado ao lado do título */
  position: relative;
}

#productSpinner svg {
  width: 100%;
  height: 100%;
}

#svg circle {
  stroke-dashoffset: 0;
  transition: stroke-dashoffset 1s linear;
  stroke: #666;
  stroke-width: 0.5em; /* ajuste da espessura pra ficar proporcional */
}

#svg #bar {
  stroke: #ff9f1e;
}

#productSpinner:after {
  /* o tamanho do pseudo-elemento também se ajusta automaticamente
     à nova largura/altura do container */
  content: attr(data-pct) "%";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: 0.8em;    /* reduz fonte pra caber no 50×50 */
  line-height: 1;
  width: auto;
  height: auto;
}



.filter-row {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.filter-row label {
  white-space: nowrap;
}

/* Ajusta o botão do filtro para ficar igual aos outros ícones */
.filter-icon {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.25rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: currentColor;
}

/* se precisar, força o stroke do SVG */
.filter-icon svg {
  stroke: currentColor;
}
.filter-icon.active {
  color: #ff0000; /* ou qualquer cor que você queira para "ativo" */
}







body #user-button {
  z-index: 1000;
  bottom: 1rem !important;
  right: 1rem !important;
  color: var(--user-button-text);
  transition: 1s 0s ease-out;
  -webkit-animation: slide 3s ease-out forwards;
          animation: slide 3s ease-out forwards;
}
@-webkit-keyframes slide {
  0%, 50% {
    opacity: 0;
    display: block !important;
  }
  100% {
    opacity: 1;
    display: block !important;
  }
}
@keyframes slide {
  0%, 50% {
    opacity: 0;
    display: block !important;
  }
  100% {
    opacity: 1;
    display: block !important;
  }
}
body #user-button .u-card {
  border-radius: 100%;
  box-shadow: 0 0 1rem -0.25rem var(--user-button-shadow), inset 0 0 1rem -0.75rem var(--user-button-shadow);
}
body #user-button .u-main {
  cursor: pointer;
  --user-button-background:var(--user-button-main, #EC87C0);
}
body #user-button .u-main img {
  height: 100%;
  width: 100%;
}
body #user-button .u-main iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 4rem;
  height: 4rem;
  opacity: 1;
  transition: 0s 4s;
}
body #user-button .u-icons {
  position: relative;
  z-index: 950;
  transform: translate(-50%, -50%);
  background: var(--user-button-circle);
  box-shadow: 0 0 0 0.125rem var(--user-button-cardborder);
  border-radius: 100%;
  transition: 0.25s;
  opacity: 1 !important;
  -webkit-backdrop-filter: blur(10px);
          backdrop-filter: blur(10px);
  /*&:before {
     z-index:-1;
     position:absolute;
     top:0; right:0; bottom:0; left:0;
     content:'';

     backdrop-filter: blur(10px);
  }*/
}
body #user-button .u-icons a {
  color: inherit;
  display: grid;
  place-items: center;
  width: 30px;
  height: 30px;
  text-decoration: none;
}
body #user-button .u-icons a div {
  padding: 0.5rem;
  transition: 0s;
}
body #user-button .u-icons a[href="https://twitter.com/zed_dash"] {
  position: relative;
}
body #user-button .u-icons a[href="https://twitter.com/zed_dash"]:before {
  content: "Middle Click";
  position: absolute;
  top: -1.5rem;
  left: 50%;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  white-space: pre;
  transform: translateX(-50%);
  opacity: 0;
  pointer-events: none;
  transition: 0.25s ease-in;
  background: #fffc;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
}
body #user-button .u-icons a[href="https://twitter.com/zed_dash"].show:before {
  opacity: 1;
  transition: 0.25s ease-out;
}
body #user-button .u-icons a[href="https://twitter.com/zed_dash"] div {
  color: #1da1f2;
}
body #user-button .u-icons a[href="https://codepen.io/z-"] div {
  background: black;
  color: white;
}
body #user-button .u-icons a.u-random div {
  position: relative;
  top: -1px;
  -webkit-animation: diespin 2s linear infinite;
          animation: diespin 2s linear infinite;
}
@-webkit-keyframes diespin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
@keyframes diespin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
body #user-button .u-icons a.u-random:not(:hover) div {
  -webkit-animation-play-state: paused;
          animation-play-state: paused;
}
body #user-button .u-icons > * {
  position: absolute;
  width: 30px;
  height: 30px;
  background: var(--singlecolour);
  border-radius: 100%;
  cursor: pointer;
  transform: translate(-50%, -50%);
  transition: 0.25s -0.05s;
}
body #user-button .u-icons > *:before {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
body #user-button .u-icons > *:hover, body #user-button .u-icons > *:focus-within {
  background: var(--hcolour);
}
body #user-button .u-icons > *:first-child:nth-last-child(1):nth-child(1), body #user-button .u-icons > *:first-child:nth-last-child(1) ~ *:nth-child(1) {
  left: 25%;
  top: 25%;
}
body #user-button .u-icons > *:first-child:nth-last-child(2):nth-child(1), body #user-button .u-icons > *:first-child:nth-last-child(2) ~ *:nth-child(1) {
  left: 37.5%;
  top: 18.75%;
}
body #user-button .u-icons > *:first-child:nth-last-child(2):nth-child(2), body #user-button .u-icons > *:first-child:nth-last-child(2) ~ *:nth-child(2) {
  left: 18.75%;
  top: 37.5%;
}
body #user-button .u-icons > *:first-child:nth-last-child(3):nth-child(1), body #user-button .u-icons > *:first-child:nth-last-child(3) ~ *:nth-child(1) {
  left: 50%;
  top: 15.625%;
}
body #user-button .u-icons > *:first-child:nth-last-child(3):nth-child(2), body #user-button .u-icons > *:first-child:nth-last-child(3) ~ *:nth-child(2) {
  left: 25%;
  top: 25%;
}
body #user-button .u-icons > *:first-child:nth-last-child(3):nth-child(3), body #user-button .u-icons > *:first-child:nth-last-child(3) ~ *:nth-child(3) {
  left: 15.625%;
  top: 50%;
}
body #user-button .u-icons > *:first-child:nth-last-child(4):nth-child(1), body #user-button .u-icons > *:first-child:nth-last-child(4) ~ *:nth-child(1) {
  left: 62.5%;
  top: 18.75%;
}
body #user-button .u-icons > *:first-child:nth-last-child(4):nth-child(2), body #user-button .u-icons > *:first-child:nth-last-child(4) ~ *:nth-child(2) {
  left: 37.5%;
  top: 18.75%;
}
body #user-button .u-icons > *:first-child:nth-last-child(4):nth-child(3), body #user-button .u-icons > *:first-child:nth-last-child(4) ~ *:nth-child(3) {
  left: 18.75%;
  top: 37.5%;
}
body #user-button .u-icons > *:first-child:nth-last-child(4):nth-child(4), body #user-button .u-icons > *:first-child:nth-last-child(4) ~ *:nth-child(4) {
  left: 18.75%;
  top: 62.5%;
}
body #user-button:hover .u-icons, body #user-button:focus-within .u-icons {
  width: 300% !important;
  height: 300% !important;
}

body {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  height: 100vh;
  font-family: "Roboto", sans-serif;
  transition: 0.25s;
}
body.dark {
  background: #232223;
  color: white;
}
@media (prefers-color-scheme: dark) {
  body:not(.light) {
    background: #232223;
    color: white;
  }
}
body .credit {
  position: absolute;
  bottom: 20px;
  left: 20px;
  color: inherit;
}
body .options {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  overflow: hidden;
  min-width: 600px;
  max-width: 900px;
  width: calc(100% - 100px);
  height: 400px;
}
@media screen and (max-width: 718px) {
  body .options {
    min-width: 520px;
  }
  body .options .option:nth-child(5) {
    display: none;
  }
}
@media screen and (max-width: 638px) {
  body .options {
    min-width: 440px;
  }
  body .options .option:nth-child(4) {
    display: none;
  }
}
@media screen and (max-width: 558px) {
  body .options {
    min-width: 360px;
  }
  body .options .option:nth-child(3) {
    display: none;
  }
}
@media screen and (max-width: 478px) {
  body .options {
    min-width: 280px;
  }
  body .options .option:nth-child(2) {
    display: none;
  }
}
body .options .option {
  position: relative;
  overflow: hidden;
  min-width: 60px;
  margin: 10px;
  background: var(--optionBackground, var(--defaultBackground, #E6E9ED));
  background-size: auto 120%;
  background-position: center;
  cursor: pointer;
  transition: 0.5s cubic-bezier(0.05, 0.61, 0.41, 0.95);
}
body .options .option:nth-child(1) {
  --defaultBackground:#ED5565;
}
body .options .option:nth-child(2) {
  --defaultBackground:#FC6E51;
}
body .options .option:nth-child(3) {
  --defaultBackground:#FFCE54;
}
body .options .option:nth-child(4) {
  --defaultBackground:#2ECC71;
}
body .options .option:nth-child(5) {
  --defaultBackground:#5D9CEC;
}
body .options .option:nth-child(6) {
  --defaultBackground:#AC92EC;
}
/* ativa: cresce com base fixa → garante expansão igual em qualquer posição */
/* ativa: garante base de largura para realmente expandir */
body .options .option.active {
  flex: 1 1 600px;      /* <<< base explícita; você já tem max-width:600px logo abaixo */
  transform: scale(1);
  max-width: 600px;
  margin: 0px;
  border-radius: 40px;
  background-size: auto 100%;
  /* &:active { transform: scale(0.9); } */
}


body .options .option.active .shadow {
  box-shadow: inset 0 -120px 120px -120px black, inset 0 -120px 120px -100px black;
}
body .options .option.active .label {
  bottom: 20px;
  left: 20px;
}
body .options .option.active .label .info > div {
  left: 0px;
  opacity: 1;
}
/* não-ativas: estreitas e elásticas */
body .options .option:not(.active) {
  flex: 1 1 60px;       /* <<< base estreita estável (antes só flex-grow) */
  border-radius: 30px;
}

body .options .option:not(.active) .shadow {
  bottom: -40px;
  box-shadow: inset 0 -120px 0px -120px black, inset 0 -120px 0px -100px black;
}
body .options .option:not(.active) .label {
  bottom: 10px;
  left: 10px;
}
body .options .option:not(.active) .label .info > div {
  left: 20px;
  opacity: 0;
}
body .options .option .shadow {
  position: absolute;
  bottom: 0px;
  left: 0px;
  right: 0px;
  height: 120px;
  transition: 0.5s cubic-bezier(0.05, 0.61, 0.41, 0.95);
}
body .options .option .label {
  display: flex;
  position: absolute;
  right: 0px;
  height: 40px;
  transition: 0.5s cubic-bezier(0.05, 0.61, 0.41, 0.95);
}
body .options .option .label .icon {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  min-width: 40px;
  max-width: 40px;
  height: 40px;
  border-radius: 100%;
  background-color: white;
  color: var(--defaultBackground);
}
body .options .option .label .info {
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-left: 10px;
  color: white;
  white-space: pre;
}
body .options .option .label .info > div {
  position: relative;
  transition: 0.5s cubic-bezier(0.05, 0.61, 0.41, 0.95), opacity 0.5s ease-out;
}
body .options .option .label .info .main {
  font-weight: bold;
  font-size: 1.2rem;
}
body .options .option .label .info .sub {
  transition-delay: 0.1s;
}
/* === Carousel Foto: ocupar 100% da largura interna da faixa azul === */
#listaFotos .options {
    display: flex;
  align-items: stretch;
  gap: 10px;          /* opcional: espaçamento entre cartões */
  
  min-width: 0 !important;
  max-width: none !important;
  width: 100% !important;
  margin: 0 auto;
  height: 400px;
  overflow: hidden;
}
/* Escopo específico da guia Fotos (se desejar isolar o comportamento) */
#listaFotos .options .option.active     { flex: 1 1 600px; }
#listaFotos .options .option:not(.active) { flex: 1 1 60px; }

/* Carretel de imagens da Qualidade (mesmo layout do carrossel de fotos) */
#qualidadeCarretelImagemPlaceholder .options {
  display: flex;
  align-items: stretch;
  gap: 10px;
  min-width: 0 !important;
  max-width: none !important;
  width: 100% !important;
  margin: 0 auto;
  height: 320px;
  overflow: hidden;
}
#qualidadeCarretelImagemPlaceholder .options .option {
  background-repeat: no-repeat !important;
  background-size: contain !important;
  background-position: center !important;
  background-color: #000;
}
#qualidadeCarretelImagemPlaceholder .options .option.active { flex: 1 1 600px; }
#qualidadeCarretelImagemPlaceholder .options .option:not(.active) { flex: 1 1 60px; }
#qualidadeCarretelImagemPlaceholder .options .option .label .info > div {
  opacity: 1 !important;
  transform: none !important;
}
#qualidadeCarretelImagemPlaceholder .options .option .label .icon {
  display: none;
}

/* Qualidade: ajustes do formulário de inspeção */
.qualidade-imagem-box img {
  width: 100% !important;
  max-height: 200px;
  object-fit: contain;
  border-radius: 8px;
}
.qualidade-nfe-input {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 12px;
  color: #e5e7eb;
  box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.08);
}
.qualidade-nfe-input:focus {
  outline: none;
  border-color: #22c55e;
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.2);
}

/* Modal de gestão de fotos */
.foto-gestao-modal { position: fixed; inset: 0; z-index: 9999; display: none; align-items: center; justify-content: center; }
.foto-gestao-modal .fg-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.55); }
.foto-gestao-modal .fg-content { position: relative; background: #0f172a; color: #e5e7eb; width: min(900px, 96%); max-height: 80vh; border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 25px 60px rgba(0,0,0,0.35); border: 1px solid rgba(255,255,255,0.08); }
.foto-gestao-modal .fg-header { display: flex; align-items: center; justify-content: space-between; padding: 14px 18px; background: rgba(255,255,255,0.05); border-bottom: 1px solid rgba(255,255,255,0.08); }
.foto-gestao-modal .fg-header h3 { margin: 0; font-size: 16px; }
.foto-gestao-modal .fg-close { background: none; border: none; color: #e5e7eb; font-size: 18px; cursor: pointer; padding: 6px 10px; }
.foto-gestao-modal .fg-body { padding: 12px 18px; overflow-y: auto; }
.fg-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }
.fg-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; padding: 10px; display: flex; flex-direction: column; gap: 8px; }
.fg-card img { width: 100%; height: 160px; object-fit: contain; background: #0b1224; border-radius: 8px; }
.fg-meta { display: flex; justify-content: space-between; font-size: 12px; color: #9ca3af; }
.fg-actions { display: flex; gap: 8px; flex-wrap: wrap; }
.fg-actions button { border: none; border-radius: 8px; padding: 8px 10px; cursor: pointer; font-weight: 600; font-size: 12px; }
.fg-actions .primary { background: #10b981; color: #0b0f1a; }
.fg-actions .secondary { background: #111827; color: #e5e7eb; border: 1px solid rgba(255,255,255,0.12); }
.fg-actions .danger { background: #b91c1c; color: #fef2f2; }


.foto-modal-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}




/* ────────────────────────────────────────────────────────────────
   E S T R U T U R A   D E   P R O D U T O   (#estruturaProduto)
   Bloco completo e autossuficiente
   ──────────────────────────────────────────────────────────────── */

   /* — Descrição: reticências + tooltip nativo (title) e sem “invadir” QTD — */
#estruturaProduto #malha .desc{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;           /* permite a coluna encolher no grid */
  cursor: help;           /* indica que há texto completo no title */
}

/* — container da lista — */
#estruturaProduto .content-section ul#malha{
  display:block;               /* força UL a bloco */
  list-style:none;
  margin:0;
  padding:0;
  max-height:600px;            /* scroll vertical */
  overflow-y:auto;
  overflow-x:auto;             /* scroll horiz. se apertar */
}

/* — cabeçalho de grupo por Operação — */
#estruturaProduto .content-section ul#malha li.category-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding:10px 18px;
  margin-top:14px;
  border-radius:12px;
  background: #1a1a1a;
  border: 1px solid rgba(255,255,255,0.06);
}
#estruturaProduto .content-section ul#malha li.category-header .left{
  font-weight:600;
  letter-spacing:.2px;
}
#estruturaProduto .content-section ul#malha li.category-header .badge{
  font-weight:500;
  opacity:.75;
  margin-left:.25rem;
}
#estruturaProduto .content-section ul#malha li.category-header .right .btn{
  font-size:12px;
  padding:6px 10px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.1);
  background: transparent;
  cursor:pointer;
}
#estruturaProduto .content-section ul#malha li.category-header .right .btn:hover{
  filter:brightness(1.1);
}

/* — cabeçalho fixo (6 colunas) — */
#estruturaProduto .content-section ul#malha li.header-row{
  display:grid;
  grid-template-columns:
      120px                       /* Código   */
      minmax(0,1fr)           /* Descrição*/
      60px                        /* QTD      */
      70px                        /* Unidade  */
      90px                        /* Custo    */
      120px;                       /* Editar   */
  column-gap:1rem;
  align-items:center;
  padding:8px 18px;
  position:sticky; top:0; z-index:2;
  background:rgba(113,119,144,.15);
  font-weight:bold;
  text-align:center;             /* centraliza todos os th */
}
#estruturaProduto .content-section ul#malha li.header-row div:nth-child(1),
#estruturaProduto .content-section ul#malha li.header-row div:nth-child(2){
  text-align:left;               /* Código e Descrição à esquerda */
}

/* — linhas de dados (mesma grade) — */
#estruturaProduto .content-section ul#malha li:not(.category-header):not(.header-row){
  display:grid;
  grid-template-columns: 120px minmax(0,1fr) 60px 70px 90px 120px;
  column-gap:1rem;
  align-items:center;
  padding:8px 18px;
}


/* 2ª coluna (Descrição) — a célula pode encolher de verdade */
#estruturaProduto .content-section ul#malha li:not(.category-header):not(.header-row) > div:nth-child(2){
  min-width: 0;           /* crítico para grid item poder encolher */
  overflow: hidden;
}

/* conteúdo da descrição com “…” e tooltip nativo via title */
#estruturaProduto .content-section ul#malha li:not(.category-header):not(.header-row) > div.desc{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  cursor: help;
}

/* cabeçalho: evita que o <th>/<div> 2 também “trave” o grid */
#estruturaProduto .content-section ul#malha li.header-row > div:nth-child(2){
  min-width: 0;
}

/* — células alinhadas — */
#estruturaProduto .content-section ul#malha li.header-row > *,
#estruturaProduto .content-section ul#malha li:not(.category-header):not(.header-row) > *{
  justify-self:start;
  margin:0; width:auto;
}

/* — cabeçalhos de categoria (full-width) — */
#estruturaProduto .content-section ul#malha li.category-header{
  display:block;
  background:rgba(144,119,119,.41);
  font-size:1.1em;
  padding:8px 18px;
  cursor:default;
}

/* — remove pontinho verde e recuos na descrição — */
#estruturaProduto #malha .status-circle{ display:none; }
/* Descrição (2ª coluna) — uma linha com “…” e sem invadir QTD */
#estruturaProduto #malha .status{
  display:block;
  margin:0; padding:0;
  min-width: 0;              /* permite encolher dentro do grid */
  overflow: hidden;          /* corta o excedente */
  text-overflow: ellipsis;   /* mostra “…” */
  white-space: nowrap;       /* 1 linha */
  cursor: help;              /* indica tooltip nativo (title) */
}

#estruturaProduto #malha .status-text{ margin-left:0; }

/* — centraliza valores numéricos — */
#estruturaProduto #malha .qtd,
#estruturaProduto #malha .unidade,
#estruturaProduto #malha .custo-real{
  text-align:center;
}

/* — centraliza o botão “Editar” (6.ª coluna) — */
#estruturaProduto #malha .button-wrapper{
  display:flex;
  justify-content:center;
}

/* ── Destaque visual do cabeçalho sticky ───────────────────────── */
#estruturaProduto .content-section ul#malha li.header-row{
  background: rgba(16,18,27,0.92);   /* fundo bem mais opaco       */
  backdrop-filter: blur(4px);        /* leve desfoque atrás (edge) */
  border-bottom: 1px solid var(--border-color);
}

/* (opcional) se quiser um efeito “barra flutuante” ainda mais visível */
#estruturaProduto .content-section ul#malha li.header-row::after{
  content:'';
  position:absolute; left:0; right:0; bottom:-1px; height:1px;
  background: var(--border-color);   /* linha divisória fina       */
}

/* === Estrutura de produto: fallback sem .content-section === */
#estruturaProduto ul#malha {
  display: block;
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 600px;
  overflow-y: auto;
  overflow-x: auto; /* scroll horizontal se apertar */
}

/* Cabeçalho (6 colunas) */
#estruturaProduto ul#malha li.header-row{
  display: grid;
  grid-template-columns: 120px minmax(0,1fr) 60px 70px 90px 120px;
  column-gap: 1rem;
  align-items: center;
  padding: 8px 18px;
  position: sticky; top: 0; z-index: 2;
  text-align: center;
}
#estruturaProduto ul#malha li.header-row > div:nth-child(1),
#estruturaProduto ul#malha li.header-row > div:nth-child(2){
  text-align: left; /* Código e Descrição à esquerda */
  min-width: 0;
}

/* Linhas de dados (mesma grade do cabeçalho) */
#estruturaProduto ul#malha li:not(.category-header):not(.header-row){
  display: grid;
  grid-template-columns: 120px minmax(0,1fr) 60px 70px 90px 120px;
  column-gap: 1rem;
  align-items: center;
  padding: 8px 18px;
}

/* 2ª coluna pode encolher de verdade */
#estruturaProduto ul#malha li > div:nth-child(2){ min-width: 0; }

/* Texto da descrição: “…” + tooltip nativo (title) */
#estruturaProduto ul#malha li > div.desc,
#estruturaProduto ul#malha li > div.status{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
  cursor: help;
}

/* Centraliza numéricos e o botão Editar (compatível com seu tema) */
#estruturaProduto #malha .qtd,
#estruturaProduto #malha .unidade,
#estruturaProduto #malha .custo-real { text-align: center; }

#estruturaProduto #malha .button-wrapper{
  display: flex; justify-content: center;
}

/* ──────────────────────────────────────────────────
   Layout de Lista de Peças idêntico à Estrutura de produto
   ────────────────────────────────────────────────── */

   /* ===== PCP: Ações + sub-estrutura (reaproveita o look da guia "Estrutura de produto") ===== */

/* botões de ação na última coluna */
/* PCP – célula de ações (linhas): alinhada à ESQUERDA */
#listaPecasPCPList .acoes{
  display:flex;
  align-items:center;
  justify-content:flex-start; /* <- era flex-end */
  gap:8px;
}
/* PCP – força alinhamento à esquerda em todos os contextos da lista */
#listaPecasPCPList.grid-pecas li.data-row .acao,
#listaPecasPCPList.grid-pecas li.data-row .acoes{
  display:flex;
  align-items:center;
  justify-content:flex-start !important;
  gap:8px;
}

/* PCP – título da coluna “Ação” alinhado à ESQUERDA */
#listaPecasPCPList .header-row .acao,
#listaPecasPCPList .header-row .acoes,
#listaPecasPCPList .header-row > *:last-child{
  justify-self:start !important;
  text-align:left !important;
}

/* PCP — Centralizar o título da coluna "Ação" no cabeçalho */
#listaPecasPCPList.grid-pecas .header-row { 
  /* garante que o header use a mesma malha */
  display: grid;
  grid-template-columns: var(--pcp-grid);
}

/* todos os cabeçalhos viram flex para controle fino de alinhamento */
#listaPecasPCPList.grid-pecas .header-row > * {
  display: flex;
  align-items: center;
}

/* célula "Ação" (última) centralizada */
#listaPecasPCPList.grid-pecas .header-row > *:last-child {
  justify-content: center !important;  /* centra conteúdo */
  text-align: center !important;       /* texto central */
  justify-self: stretch !important;    /* evita travar à direita por regras antigas */
  padding-right: 0 !important;         /* remove empurrão à direita, se houver */
}

/* PCP – evita centralização herdada de outras áreas */
.data-row .acao{ justify-content:flex-start; }

#listaPecasPCPList .icon-btn{
  width:28px; height:28px;
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:8px; border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color:#fff; cursor:pointer;
  transition: transform .08s ease, background .12s ease, border-color .12s ease;
}
#listaPecasPCPList .icon-btn:hover{ background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.16); transform: translateY(-1px); }
#listaPecasPCPList .icon-btn:active{ transform: translateY(0); }
#listaPecasPCPList .icon-btn .i{ width:18px; height:18px; display:block; }
#listaPecasPCPList .icon-btn svg, 
#listaPecasPCPList .icon-btn svg *{ stroke: currentColor; fill: none; }

/* linha “sub-estrutura” logo abaixo da peça clicada */
#listaPecasPCPList li.sub-estrutura-row{ padding: 0; }
#listaPecasPCPList li.sub-estrutura-row > .sub-estrutura{
  grid-column: 1 / -1;
  margin: 8px 0 10px;
  padding: 8px 10px 12px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 10px;
}
#listaPecasPCPList li.sub-estrutura-row .sub-title{
  font-weight: 600; margin: 0 0 6px; opacity: .9;
}

/* grid interna (simplificada — mesma vibe da guia Estrutura) */
#listaPecasPCPList li.sub-estrutura-row ul.malha-sub{
  list-style: none; margin: 0; padding: 0;
}
/* Grid das linhas da sub-estrutura: Cod | Desc | Un | Qtd | Custo | Ações */
#listaPecasPCPList li.sub-estrutura-row ul.malha-sub li{
  display: grid;
  grid-template-columns: 140px minmax(260px,0.75fr) 70px 80px 90px minmax(168px,0.35fr);
  column-gap: 12px;
  align-items: center;
  padding: 6px 12px;
}

#listaPecasPCPList li.sub-estrutura-row ul.malha-sub li .desc{
  min-width: 0;                 /* habilita ellipsis na grid */
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

#listaPecasPCPList li.sub-estrutura-row ul.malha-sub li .acao{
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
  min-width: 168px;
}

#listaPecasPCPList li.sub-estrutura-row ul.malha-sub li .acao .icon-btn{
  flex: 0 0 auto;
  width: 32px;
  height: 32px;
  padding: 6px;
}



   #listaPecasTab .content-section ul#listaPecasList {
    display: block;
    list-style: none;
    margin: 0;
    padding: 0;
    max-height: 600px;    /* altura fixa com scroll */
    overflow-y: auto;
    overflow-x: auto;
  }
  
  #listaPecasTab .content-section ul#listaPecasList li.header-row {
    display: grid;
    grid-template-columns:
        120px                       /* Código          */
        minmax(220px,1fr)           /* Descrição       */
        60px                        /* QTD             */
        70px                        /* Unidade         */
        90px                        /* Valor sugerido  */
        80px;                       /* Abrir           */
    column-gap: 1rem;
    align-items: center;
    padding: 8px 18px;
    position: sticky; top: 0; z-index: 2;
    background: rgba(16,18,27,0.92);
    backdrop-filter: blur(4px);
    border-bottom: 1px solid var(--border-color);
    font-weight: bold;
    text-align: center;
  }
  #listaPecasTab .content-section ul#listaPecasList li.header-row div:nth-child(-n+2) {
    text-align: left;  /* Código e Descrição à esquerda */
  }
  
  #listaPecasTab .content-section ul#listaPecasList li:not(.category-header):not(.header-row) {
    display: grid;
    grid-template-columns:
        120px minmax(220px,1fr) 60px 70px 90px 80px;
    column-gap: 1rem;
    align-items: center;
    padding: 8px 18px;
  }
  
  #listaPecasTab .content-section ul#listaPecasList li.category-header {
    display: block;
    background: rgba(144,119,119,0.41);
    font-size: 1.1em;
    padding: 8px 18px;
    cursor: default;
  }
  
  /* remove pontinho e recuo na descrição */
  #listaPecasTab #listaPecasList .status-circle { display: none; }
  #listaPecasTab #listaPecasList .status {
    display: block;
    margin: 0;
    padding: 0;
    white-space: normal;
  }
  #listaPecasTab #listaPecasList .status-text {
    margin-left: 0;
    word-break: break-word;
  }
  
  /* centraliza colunas numéricas */
  #listaPecasTab #listaPecasList .qtd,
  #listaPecasTab #listaPecasList .unidade,
  #listaPecasTab #listaPecasList .valor {
    text-align: center;
  }
  
  /* botão “Abrir” centralizado */
  #listaPecasTab #listaPecasList .button-wrapper {
    width: auto;
    display: flex;
    justify-content: center;
  }
  
  /* ajusta largura das colunas para não herdar os estilos globais */
  #listaPecasTab #listaPecasList .products,
  #listaPecasTab #listaPecasList .status {
    width: auto;
    margin-left: 0;
  }
  #listaPecasTab #listaPecasList .button-wrapper .status-button {
    padding: 6px 18px;
  }





/* submenu (detalhes) dentro da Estrutura de produto */
#estruturaProduto #malha .submenu{
  grid-column: 1 / -1;               /* ocupa todas as colunas */
  padding: 8px 18px 8px calc(120px + 1rem);  /* recuo alinhado ao texto */
  background: rgba(255,255,255,.04);  /* leve contraste */
  font-size: 14px;
  line-height: 1.4em;
}

#estruturaProduto #malha .submenu ul{
  margin:0; padding:0; list-style:none;
}

#estruturaProduto #malha .submenu li + li{
  margin-top:4px;
}

/* -------------------------------------------------
   CSS original do seu form (cole TODO este bloco)
   — lembrando de manter o @import do Montserrat no topo
------------------------------------------------- */
/* ─────────── Scoped Form CSS (cole aqui) ─────────── */
.auth-popup,
.auth-popup * {
  box-sizing: border-box;
  outline: none;
}

.auth-popup {
  background: #f6f5f7;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  font-family: "Montserrat", sans-serif;
  width: 768px;
  max-width: 100%;
  min-height: 480px;
  margin: auto;
  position: relative;
  overflow: hidden;
  border-radius: 10px;
  box-shadow: 0 14px 28px rgba(0,0,0,0.25),
              0 10px 10px rgba(0,0,0,0.22);
}

.auth-popup h1 {
  font-weight: bold;
  margin: 0;
}

.auth-popup h2 {
  text-align: center;
}

.auth-popup p {
  font-size: 14px;
  font-weight: 100;
  line-height: 20px;
  letter-spacing: 0.5px;
  margin: 20px 0 30px;
}

.auth-popup span {
  font-size: 12px;
}

.auth-popup a {
  color: #333;
  font-size: 14px;
  text-decoration: none;
  margin: 15px 0;
}

.auth-popup button {
  border-radius: 20px;
  border: 1px solid #ff4b2b;
  background-color: #ff4b2b;
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  padding: 12px 45px;
  letter-spacing: 1px;
  text-transform: uppercase;
  transition: transform 80ms ease-in;
}

.auth-popup button:active {
  transform: scale(0.95);
}

.auth-popup button:focus {
  outline: none;
}

.auth-popup button.ghost {
  background-color: transparent;
  border-color: #fff;
}

.auth-popup form {
  background-color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 0 50px;
  height: 100%;
  text-align: center;
}

.auth-popup input {
  background-color: #eee;
  border: none;
  padding: 12px 15px;
  margin: 8px 0;
  width: 100%;
}

.auth-popup .container {
  width: 100%;
  max-width: 768px;
  min-height: 480px;
  position: relative;
  overflow: hidden;
  transition: all 0.6s ease-in-out;
}

.auth-popup .form-container {
  position: absolute;
  top: 0;
  height: 100%;
  transition: all 0.6s ease-in-out;
}

.auth-popup .sign-in-container {
  left: 0;
  width: 50%;
  z-index: 2;
}

.auth-popup .container.right-panel-active .sign-in-container {
  transform: translateX(100%);
}

.auth-popup .sign-up-container {
  left: 0;
  width: 50%;
  opacity: 0;
  z-index: 1;
}

.auth-popup .container.right-panel-active .sign-up-container {
  transform: translateX(100%);
  opacity: 1;
  z-index: 5;
  animation: show 0.6s;
}

@keyframes show {
  0%, 49.99% {
    opacity: 0;
    z-index: 1;
  }
  50%, 100% {
    opacity: 1;
    z-index: 5;
  }
}

.auth-popup .overlay-container {
  position: absolute;
  top: 0;
  left: 50%;
  width: 50%;
  height: 100%;
  overflow: hidden;
  transition: transform 0.6s ease-in-out;
  z-index: 100;
}

.auth-popup .container.right-panel-active .overlay-container {
  transform: translateX(-100%);
}

.auth-popup .overlay {
  background: #002547;
  background: -webkit-linear-gradient(to right, #E72D34, #002547);
  background: linear-gradient(to right, #E72D34, #002547);
  background-repeat: no-repeat;
  background-size: cover;
  background-position: 0 0;
  color: #FFFFFF;
  position: relative;
  left: -100%;
  height: 100%;
  width: 200%;
  transform: translateX(0);
  transition: transform 0.6s ease-in-out;
}

.auth-popup .container.right-panel-active .overlay {
  transform: translateX(50%);
  position: relative; /* Já definido, mas reforça o contexto */
}

.auth-popup .overlay-panel {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 0 40px;
  text-align: center;
  top: 0;
  height: 100%;
  width: 50%;
  transition: transform 0.6s ease-in-out;
}

.auth-popup .overlay-left {
  transform: translateX(-20%);
}

.auth-popup .container.right-panel-active .overlay-left {
  transform: translateX(0);
}

.auth-popup .overlay-right {
  right: 0;
  transform: translateX(0);
}

.auth-popup .container.right-panel-active .overlay-right {
  transform: translateX(20%);
}

.auth-popup .social-container {
  margin: 20px 0;
}

.auth-popup .social-container a {
  border: 1px solid #ddd;
  border-radius: 50%;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  margin: 0 5px;
  height: 40px;
  width: 40px;
}

.auth-popup footer {
  background-color: #222;
  color: #fff;
  font-size: 14px;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  text-align: center;
}

.auth-popup footer p {
  margin: 10px 0;
}

.auth-popup footer i {
  color: red;
}

.auth-popup footer a {
  color: #3c97bf;
  text-decoration: none;
}

/* botão “×” */
.auth-popup .close-auth {
  position: absolute;
  top: 1rem;       /* afasta 16px do topo do modal */
  right: 1rem;     /* afasta 16px da borda direita */
  background: none;
  border: none;
  font-size: 1.5rem;  /* ou ajuste como preferir */
  line-height: 1;
  cursor: pointer;
  color: #333;     /* mesma cor dos títulos */
  padding: 0;
}
/* ─────────────────────────────────────────────────────────── */

.title-wrapper { display:flex; align-items:center; gap:0.5em; }

#estoqueSpinner {          /* clone exato do productSpinner */
  display:block; width:50px; height:50px; margin:0; position:relative;
}
#estoqueSpinner svg  { width:100%; height:100%; }
#svgEst circle       { stroke-dashoffset:0; transition:stroke-dashoffset 1s linear;
                       stroke:#666; stroke-width:0.5em; }
#svgEst #barEst      { stroke:#ff9f1e; }   /* mesma cor */
#estoqueSpinner:after{
  content:attr(data-pct) "%"; position:absolute; left:50%; top:50%;
  transform:translate(-50%,-50%); font-size:0.8em; line-height:1;
}

/* --- spinner de Estrutura de produto --------------------------------- */
.spinner-box {
  display: flex;
  align-items: center;
  gap: 0.5em;                     /* distância entre círculo e texto */
}

#estoqueSpinner {
  display: block;
  width: 50px;
  height: 50px;
  margin: 0;
  position: relative;
}

#estoqueSpinner svg { width: 100%; height: 100%; }

#svgEst circle {
  stroke-dashoffset: 0;
  transition: stroke-dashoffset 1s linear;
  stroke: #666;
  stroke-width: 0.5em;
}

#svgEst #barEst {
  stroke: #ff9f1e;
}

#estoqueSpinner:after {
  content: attr(data-pct) "%";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: 0.8em;
  line-height: 1;
}

.spinner-label {
  font-size: 0.9em;
  color: #666;
  white-space: nowrap;
}

/* ─── Faz o sub-painel de Detalhes ocupar tudo e rolar internamente ─── */
/* ==============================
   CONTROLE DE TAMANHO + SCROLL
   ============================== */

/* ======================================
   1) CONTROLE DE ALTURA + SCROLL DAS LISTAS
   ====================================== */
   :root {
    --inner-max-items: 8;         /* quantas linhas quer ver sem scroll */
    --inner-row-height: 40px;     /* altura de cada <li> */
  }
  
  /* aplica a todas as 4 listas de detalhes */
  ul#detalhesList,
  ul#cadastroList,
  ul#financeiroList,
  ul#pdvList,
ul#comprasList,
  ul#logisticaList {
    max-height: calc(var(--inner-max-items) * var(--inner-row-height));
    overflow-y: auto;
    overflow-x: hidden;
    padding-right: 8px; /* evita o conteúdo “sumir” sob o scroll */
  }
  
  /* garante que cada item fique visível (remove hides antigos) */
  ul#detalhesList li,
  ul#cadastroList li,
  ul#financeiroList li,
  ul#pdvList li,
ul#comprasList li ,
  ul#logisticaList li {
    display: flex !important;
  }
  
  /* ======================================
     2) COMPACTAR ALTURA DAS SUB-TABS E WRAPPER
     ====================================== */
  
  /* Barrazinha de subtabs (aba interna do “Dados do produto”) */
  #dadosProduto > .main-header {
    height: 48px;         /* diminui de 58px para 48px */
    padding: 0 20px;      /* menos padding lateral */
  }
  
  /* Links dentro dela */
  #dadosProduto > .main-header .header-menu a {
    padding: 8px 16px;    /* reduz o padding vertical e horizontal */
    font-size: 14px;
  }
  
  /* Remove margens/paddings extras antes da lista */
  #dadosProduto .content-section {
    margin-top: 8px;
    padding: 0;
  }
  #dadosProduto .content-section-title {
    margin-bottom: 8px;
  }
  
  .status-msg {
    display: inline-block;
    margin-left: 8px;
    padding: 4px 8px;
    background: #333;
    color: #fff;
    border-radius: 4px;
    font-size: 0.9em;
    position: relative;
    top: -2px;
    opacity: 0.9;
  }
  /* para cada <li class="adobe-product"> */
.adobe-product {
  display: flex;
  align-items: flex-start;
  padding: 8px 0;
}

/* coluna de label (“Tipo item”, “Marca”, etc) */
.adobe-product .products {
  flex-shrink: 0;
  width: 150px; /* ajusta conforme seu layout */
  margin-right: 16px;
}

/* coluna de valor */
.adobe-product .status-text {
  flex: 1;
  white-space: pre-wrap;      /* preserva quebras que você queira */
  word-break: break-word;     /* quebra palavras muito longas */
  overflow-wrap: break-word;  /* compatibilidade */
  margin-right: 16px;
}

/* wrapper do botão */
.adobe-product .button-wrapper {
  flex-shrink: 0;
}

/* opcional: ajuste nos botões pra ficarem alinhados no topo */
.adobe-product .content-button {
  align-self: flex-start;
}
/* ==== Quebra de linha em “Descrição detalhada” e “Obs internas” ==== */
/* Aplica somente na aba “Detalhes do produto” (#dadosProduto) */
#dadosProduto .content-section ul#detalhesList li .status-text {
  white-space: normal !important;    /* permite múltiplas linhas */
  word-break: break-word !important; /* quebra palavras muito longas */
  overflow-wrap: break-word !important;
}

/* Garante que o botão fique sempre no topo direito */
#dadosProduto .content-section ul#detalhesList li .button-wrapper {
  align-self: flex-start !important;
}

/* ─── Mesma formatação de “product-details” para PDV e Compras ─── */
/* ─── Mesma formatação “tabela” para PDV e Compras ─── */
.content-section ul#pdvList,
.content-section ul#comprasList {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background-color: var(--content-bg);
  padding-left: 0;
  margin: 0;
  border-radius: 14px;
  border: 1px solid var(--theme-bg-color);
  cursor: default;
  overflow-y: auto;
}

.content-section ul#pdvList li,
.content-section ul#comprasList li {
  list-style: none;
  padding: 10px 18px;
  display: flex;
  align-items: center;
  font-size: 16px;
  white-space: nowrap;
  transition: background-color 0.3s;
}

.content-section ul#pdvList li + li,
.content-section ul#comprasList li + li {
  border-top: 1px solid var(--border-color);
}

.content-section ul#pdvList li:hover,
.content-section ul#comprasList li:hover {
  background-color: var(--theme-bg-color);
}

.content-section ul#pdvList li:hover:first-child,
.content-section ul#comprasList li:hover:first-child {
  border-radius: 13px 13px 0 0;
}

.content-section ul#pdvList li:hover:last-child,
.content-section ul#comprasList li:hover:last-child {
  border-radius: 0 0 13px 13px;
}

/* colunas internas */
.content-section ul#pdvList .products,
.content-section ul#comprasList .products {
  flex-shrink: 0;
  width: 150px;
}

.content-section ul#pdvList .status-text,
.content-section ul#comprasList .status-text {
  flex: 1;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
}

.content-section ul#pdvList .button-wrapper,
.content-section ul#comprasList .button-wrapper {
  flex-shrink: 0;
}


/* detalhes da estrutura, full-width abaixo da linha */
#estruturaProduto .structure-details {
  background: rgba(0,0,0,0.03);
  padding: 0.5rem 1rem;
  font-size: 0.9em;
  line-height: 1.4;
}
#estruturaProduto .structure-details ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 0.5rem 1rem;
}
#estruturaProduto .structure-details li {
  margin: 0;
}

.estrutura-item { border-bottom: 1px solid #ddd; padding: 0.5rem; }
.estrutura-summary { display: flex; gap: 1rem; }
.estrutura-details {
  padding: 0.5rem 1rem;
  background: #f9f9f9;
}
.estrutura-details ul {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px,1fr));
  gap: 0.5rem 1rem;
  margin: 0;
  padding: 0;
}

.category-filter { margin-bottom: 1rem; }
.category-filter .tag-input { margin: 0.5rem 0; }
.category-filter .tags { display: flex; flex-wrap: wrap; gap: 0.5rem; }
.category-filter .tag {
  background: rgba(255,255,255,0.1);
  padding: 2px 6px;
  border-radius: 4px;
  display: inline-flex;
  align-items: center;
}
.category-filter .tag button.remove-tag {
  background: none;
  border: none;
  color: #f55;
  margin-left: 4px;
  cursor: pointer;
}


/* 4) Faz o título ocupar toda a largura */
#pecasFilterForm > strong {
  grid-column: 1 / -1;
  margin-bottom: 0.5rem;
}
#pecasFilterForm > br {
  display: none;
}

/* 5) Cada bloco de categoria também vira um pequeno grid interno */
#pecasFilterForm .category-filter {
  display: grid;
  grid-template-rows: auto auto auto;
  row-gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: var(--dropdown-bg);
  border-radius: 6px;
}

/* 6) Checklist e label alinhados horizontalmente */
#pecasFilterForm .category-filter label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 500;
}

/* 7) Input de tag e container de tags ocupam 100% do bloco */
#pecasFilterForm .category-filter .tag-input input,
#pecasFilterForm .category-filter .tags {
  width: 100%;
  box-sizing: border-box;
}

/* 8) As tags internas ficam flex-wrap, mas dentro do grid do bloco */
#pecasFilterForm .category-filter .tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

/* no final do seu menu_produto.css, depois de tudo */
.filter-panel.show {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem 1.5rem;
  padding: 1rem;
}

/* estiliza cada “célula” do grid, que agora são .filter-row */
.filter-panel.show .filter-row {
  display: flex;
  flex-direction: column;
  padding: 0.75rem 1rem;
  background: var(--dropdown-bg);
  border-radius: 6px;
}

/* alinha o label+select horizontalmente dentro do .filter-row */
.filter-panel.show .filter-row label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 500;
}

/* faz os selects/tags ocuparem 100% da célula */
.filter-panel.show .filter-row select,
.filter-panel.show .filter-row .tags {
  width: 100%;
  box-sizing: border-box;
}
#pecasFilterForm{
  display:contents;
}
.filter-panel.show{
  display:grid !important;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:1rem 1.5rem;
  padding:1rem;
}


/* cabeçalho clicável */
.category-header.collapsible  { cursor:pointer; }

/* ícone de expandir/retrair */
.expand-icon {
  margin-left: 8px;
  font-size: 14px;
  pointer-events:none;         /* clique vai no <li>, não no <i>  */
}

/* toolbar de Características */
.caract-toolbar i.fa-wrench,
.caract-toolbar i.fas.fa-wrench {
  font-size: 1.2em;
  cursor: pointer;
}
.caract-toolbar .caract-menu {
  display: none;
  flex-direction: row;
  align-items: center;
  position: absolute;
  background: var(--dropdown-bg);
  padding: 0.5rem;
  list-style: none;
  margin-top: 0.5rem;
  border-radius: 6px;
    width: max-content !important;
  height: auto !important;
  white-space: nowrap;      /* evita quebra de linha nos ícones */
}

.caract-menu.show {
  display: flex;
}

.caract-toolbar .caract-menu.show {
  display: flex;
}
.caract-toolbar .caract-menu li + li {
  margin-left: 1rem;
}

.caract-toolbar .caract-menu i {
  margin: 0 4px;
  cursor: pointer;
}
/* quando JS fizer menu.style.display = 'flex', aí aparece */
.delete-icon {
  margin-left: 12px;  /* ajuste até ficar na posição desejada */
}
/* filtro oculto por padrão */
.filter-panel {
  display: none;
}

/* quando receber a classe .show (clicou no ícone), exibe o painel */
.filter-panel.show {
  display: block; /* ou flex, se seu layout usar flexbox */
}
/* Itens da lista na aba Acessos */
#sideMenuList li,
#topMenuList li {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 1rem;
  border-bottom: 1px solid var(--border-color);
}

/* Listbox padrão da intranet */
/* mantém o estilo do select */
.content-select {
  margin-left: 1rem;
  padding: 0.375rem 0.75rem;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background-color: var(--input-bg-color);
  color: var(--text-color);
  min-width: 120px;
}

/* realça a borda do select quando focado */
.content-select:focus {
  outline: 2px solid var(--primary-color);
}

/* Reset das opções para branco/preto */
.content-select option {
  background-color: #fff;
  color: #000;
}

/* Destaque ao passar o mouse ou focar */
.content-select option:hover,
.content-select option:focus {
  background-color: var(--primary-color);
  color: #fff;
}

/* Garante que a opção “checked” continue preta sobre branco */
.content-select option:checked {
  background-color: #fff;
  color: #000;
}
/* Remove scroll das listas individuais */
#sideMenuList,
#topMenuList {
  max-height: none;
  overflow: visible;
}

/* Novo container que engloba ambas as listas */
.menu-scroll {
  max-height: 450px;      /* altura máxima do bloco inteiro */
  overflow-y: auto;       /* barra única para tudo que ultrapassar */
  padding-right: 0.5rem;  /* mantém espaço interno à direita */
}

/* painel lateral de notificações */
.side-panel {
  position: fixed;          /* flutuante, não dentro do flow */
  top: 70px;                /* ajuste à altura do cabeçalho */
  right: 0;
  width: 320px;
  max-width: 90vw;
  height: calc(100% - 70px);
  background: #fff;
  border-left: 1px solid #ddd;
  box-shadow: -2px 0 6px rgba(0,0,0,.1);
  overflow-y: auto;
  z-index: 2000;
}
/* começa invisível; será exibido com JS */
.hidden   { display: none; }
.visible  { display: block; }

/* lista simples das mensagens */
#listaNotificacoes {
  list-style: disc inside;
  padding-left: 0;
}

#listaNotificacoes li {
  display: flex;
  justify-content: space-between;
  gap: .5rem;
  align-items: center;
}
#listaNotificacoes button {
  padding: 2px 6px;
  font-size: .75rem;
  cursor: pointer;
}

.btn-reset  { background-color: var(--success-color); }
.btn-del    { background-color: var(--danger-color);  }

/* Timeline de registros - permite scroll vertical */
#listaRegistros {
  max-height: calc(100vh - 350px);
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: 10px; /* evita corte de sombras no scroll */
  padding-bottom: 20px; /* garante espaço após o último item */
}

/* =========  BLOCO DE INFORMAÇÕES DO COLABORADOR  ========== */
#loggedInContainer{
  padding: 18px 12px;          /* espaçamento interno */
  line-height: 1.35;
}

#loggedInContainer h3{
  margin: 0 0 6px;
  font-size: 1.1rem;           /* ligeiramente maior que o <p> */
  font-weight: 600;
}

#loggedInContainer p{
  margin: 4px 0;
  font-size: 0.95rem;
}
/* quando o bloco de dados estiver sobre o fundo roxo */
#loggedInContainer.on-overlay {
  color: #fff;             /* texto branco */
}
#loggedInContainer.on-overlay p {
  color: #e6e6e6;          /* um branco levemente cinza pros parágrafos */
}
/* Quando os dados da Omie estão sobre o overlay roxo */
#loggedInContainer.on-overlay {
  color:#fff;                    /* títulos em branco */
}
#loggedInContainer.on-overlay p {
  color:#e6e6e6;                 /* parágrafos cinza-claro */
}
/* centraliza o conteúdo da coluna cinza quando logado */
.sign-in-container.centered {
  display:          flex    !important;   /* sobrepõe display:block original  */
  flex-direction:   column;
  justify-content:  center;               /* centra na vertical              */
  align-items:      center;               /* centra na horizontal            */
  text-align:       center;
}

.sign-in-container.centered h1,
.sign-in-container.centered p,
.sign-in-container.centered button{
  width: 100%;             /* garante alinhamento */
  margin: 8px 0;           /* espaçamento suave   */
}
/* botão Deslogar ganha o mesmo vermelho do #btnLogout
   somente quando está no painel cinza (.centered) */
   .sign-in-container.centered #btnOverlayLogout{
    background-color:#ff4b2b !important;
    border-color:#ff4b2b   !important;
    color:#fff             !important;
  }
  #loggedInContainer p{
    margin:4px 0;
  }
  #loggedInContainer span{
    font-weight:300;
  }
/* garante que o cabeçalho fique sempre na frente do overlay */
.auth-popup h2{
  position: relative;   /* cria novo contexto */
  z-index: 150;         /* maior que .overlay-container (100) */
}
/* Barra cinza que corre de fora a fora atrás do <h2> */
.auth-popup::before{
  content:"";
  position:absolute;
  top:0; left:0;
  width:100%;
  height:60px;                /* ajuste → mesma altura do <h2> */
  background:#f6f5f7;         /* mesma cor do painel cinza     */
  z-index:120;                /* fica acima do overlay (100) e
                                 abaixo do h2 (150)             */
}

/* garante que o título continue no topo da nova barra */
.auth-popup h2{
  position:relative;
  z-index:150;                /* já havia sido colocado antes  */
  margin:0;
  padding:16px 0;             /* opcional: afasta texto da borda */
  width:100%;
  text-align:center;
}
/* Ajuste do espaçamento interno nas linhas de detalhes */
#colabDetailsList li.detail-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  /* aumenta padding à esquerda e à direita */
  padding: 0.5rem 1rem;
  border-bottom: 1px solid var(--border-color);
}

#colabDetailsList li .detail-label {
  font-weight: 600;
  flex: 0 0 180px;   /* largura fixa para o label */
  margin-right: 5rem;
}

#colabDetailsList li .detail-value {
  flex: 1;           /* ocupa o resto */
  word-break: break-word;
}
/* Limita a altura do painel de detalhes e ativa scroll interno */
#colabDetailsList {
  max-height: 480px;      /* ajuste este valor até ficar certinho até "Código do Vendedor" */
  overflow-y: auto;
  /* opcional: deixa o scroll sempre visível, se quiser */
  /* scrollbar-width: thin; */
}

/* mantém o título fixo ao rolar (se quiser) */
#colabDetails .title-wrapper {
  position: sticky;
  top: 0;
  background: var(--bg-color);
  z-index: 1;
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}
/* Container geral dos botões e lista */
#colabDetails .title-wrapper {
  /* transforma o wrapper num flex-container em coluna */
  display: flex !important;
  flex-direction: column;
  align-items: flex-start;
  gap: 0.75rem;
}

/* Primeira linha: Anexo + Voltar à lista */
#anexoRow1 {
  display: flex;
  gap: 0.5rem;
  width: 100%;
}

/* Segunda linha: Foto do perfil + Outros arquivos */
#anexoRow2 {
  display: flex;
  gap: 0.5rem;
  width: 100%;
}

/* Lista de anexos logo abaixo */
#anexosList {
  /* limita altura e adiciona scroll */
  max-height: 200px;
  overflow-y: auto;
  width: 100%;
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: var(--bg-elevated);
  border-radius: 0.375rem;
}

/* Ajuste para botões (opcional) */
#anexoRow1 .content-button,
#anexoRow2 .content-button {
  flex-shrink: 0;
}
.icon-button {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--theme-color);
  font-size: 1.5rem;
  margin-left: auto;
  transition: color 0.3s;
}

.icon-button:hover {
  color: var(--button-inactive);
}
/* container com posicionamento relativo + espaço interno só para empurrar o conteúdo */
#colabDetails {
  position: relative;
  padding-top: 80px; /* empurra o restante para baixo, acomodando a foto */
}

/* placeholder absoluto, colado ao topo e centralizado */
/* Remove o absolute antigo e força o img a preencher o wrapper */
#colabPhoto {
  position: static !important;
  top: auto !important;
  left: auto !important;
  transform: none !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover;
  border-radius: 50%;
}

/* garante container relativo para o posicionamento absoluto */
#colabDetails {
  position: relative;
}

/* desfaz o flex/margin/padding do título */
#colabDetails .title-wrapper {
  display: block;
  margin: 0;
  padding: 0;
}

/* fixa o botão de voltar no topo, à direita */
#colabDetails #backToList {
  position: absolute;
  top: 16px;
  right: 24px;  /* afasta da borda direita conforme precisar */
  margin: 0;
}
/* garante que o container continue com position:relative */
#colabDetails {
  position: relative;
}

/* botão “Voltar” permanece colado à direita */
#colabDetails #backToList {
  position: absolute;
  top: 16px;
  right: 24px;
  margin: 0;
}

/* botão “Anexo” fica à esquerda do “Voltar” */
#colabDetails #attachAnexo {
  position: absolute;
  top: 16px;
  right: 72px;    /* 24px (do back) + botão de 40px + gap */
  margin: 0;
}

/* título centralizado na mesma linha */
#colabDetails .content-section-title {
  position: absolute;
  top: calc(8px + 27px + 16px) !important;       
  left: 50%;      
  transform: translateX(-50%);
  margin: 0;
}

/* wrapper circular que “segura” o drag em todo o círculo */
#colabPhotoWrapper {
  position: absolute;
  top: 8px;              /* mesmo top que o img tinha */
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 120px;
  border-radius: 50%;
  overflow: hidden;      /* esconde partes fora do círculo */
  cursor: grab;          /* cursor aparece em todo o wrapper */
}
.caract-toolbar .caract-menu .content-button {
  all: unset;                /* remove todos os estilos de botão */
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin: 0;
  background: none;
  color: inherit;
}
.caract-toolbar .caract-menu .content-button i {
  margin: 0 4px;
}
.content-section-title i#wrenchIcon {
  margin-left: 12px;
}
/* --- Colaborador inativo --- */
.inactive-row {
  color: #b30000;              /* texto vermelho escuro */
}

/* ─── Wrappers principais: empilham em coluna ─── */
.main-container,
.tab-content,
.tab-pane,
#kanbanPedidos .content-wrapper,
#kanbanPedidos .content-section {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  min-height: 0;   /* habilita scroll interno nos filhos */
}

/* ─── Cards ─── */
.kanban-list li:not(.placeholder) {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 6px;
  padding: 8px;
  margin-bottom: 4px;
  cursor: grab;
  color: #fff;
  transition: background 0.2s, box-shadow 0.2s;
}
.kanban-list li:not(.placeholder):hover {
  background: rgba(255,255,255,0.12);
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}


/* ─── Placeholder de drag (pontilhado no tamanho dos cards) ─── */
.kanban-list li.placeholder {
  border: 2px dashed rgba(255,255,255,0.3);
  border-radius: 4px;
  margin: 0 0 4px;
  padding: 12px;
}


/* ─── Título do card ─── */
.kanban-card-header {
  margin: 0 0 6px;
  font-weight: 600;
  color: #fff;
}

/* ─── Itens dentro do card ─── */
.kanban-card-items {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.kanban-card-items li {
  display: flex;
  align-items: center;
  gap: 4px;
  color: #fff;
}
/* ─── Kanban Board: mantém em linha ─── */
.kanban-board {
  display: flex;
  flex-direction: row;
  gap: 1rem;
  flex: 1 1 auto;
  min-height: 0;
  overflow-x: auto;
  overflow-y: auto; /* Adiciona rolagem vertical também */
  max-height: 100vh; /* Garante que não ultrapasse a tela */
  justify-content: center;
  /* garante que cada coluna fique alinhada ao topo */
  align-items: flex-start;
  margin-top: 0px; /* Remove margem superior para ocupar mais espaço */
}
/* ─── Cada coluna ocupa espaço na largura e faz scroll interno ─── */
.kanban-column {
  flex: 0 0 200px;      /* largura fixa - não cresce nem diminui */
  min-width: 200px;     /* garante largura mínima */
  max-width: 200px;     /* garante largura máxima */
  width: 200px;         /* largura definida */
  display: flex;
  flex-direction: column;
  min-height: 0;        /* <— habilita scroll no conteúdo */
  background: rgba(32,34,50,0.8);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 8px;
  color: #fff;
  height: 100%;
  box-sizing: border-box;
}

/* Scrollbar horizontal do container do kanban */
.kanban-container::-webkit-scrollbar {
  height: 10px;
}

.kanban-container::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 5px;
}

.kanban-container::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 5px;
  transition: background 0.3s;
}

.kanban-container::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}

/* Modo claro */
.light-mode .kanban-container::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
}

.light-mode .kanban-container::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.3);
}

.light-mode .kanban-container::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.5);
}
/* ─── Cabeçalho sticky ─── */
.kanban-header {
  flex: 0 0 auto;
  padding: 6px 4px;
  background: rgba(255,255,255,0.1);
  border-bottom: 1px solid rgba(255,255,255,0.2);
  position: sticky;
  top: 0;
  z-index: 10;
  text-align: center;
  color: #fff;
  font-size: 11px;
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
/* ─── Lista de cards: scroll vertical ─── */
.kanban-list {
  flex: 1 1 auto;
  min-height: 0;       /* <— muito importante */
  overflow-y: auto;
  margin: 0;
  padding: 6px 6px 200px 6px;
  list-style: none;
  /* Sem max-height fixo - usa o espaço disponível */
  box-sizing: border-box;
}

/* ─── Barra de scroll interna ─── */
.kanban-list::-webkit-scrollbar {
  width: 6px;
}
.kanban-list::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.3);
  border-radius: 3px;
}
#coluna-comercial {
  max-height: 78vh;
  overflow-y: auto;
  padding-right: 6px;
}

#coluna-comercial .kanban-card {
  min-height: auto;
  padding: 8px 10px;
  background: linear-gradient(145deg, rgba(99,102,241,0.18), rgba(129,140,248,0.1));
  border: 1px solid rgba(129,140,248,0.35);
  box-shadow: 0 8px 18px rgba(59,67,140,0.35);
}

#coluna-comercial .kanban-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 14px 28px rgba(59,67,140,0.45);
}

#coluna-comercial .kanban-card .kanban-card-meta {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: #c4c6ff;
  margin-bottom: 6px;
}

.kanban-card .kanban-code-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-weight: 600;
}

.kanban-card .kanban-code-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 54px;
  background: rgba(129, 140, 248, 0.25);
  color: #ede9fe;
  border-radius: 999px;
  padding: 2px 10px;
  font-size: 0.72rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

#coluna-comercial .kanban-card .kanban-code-header {
  color: #f8fafc;
}

#coluna-comercial .kanban-card .kanban-code-count {
  background: rgba(129, 140, 248, 0.25);
  color: #ede9fe;
}

#coluna-pcp-op .kanban-card .kanban-code-header {
  color: #ecfeff;
}

#coluna-pcp-op .kanban-card .kanban-code-count {
  background: rgba(56, 189, 248, 0.18);
  color: #cffafe;
}

#coluna-comercial .kanban-card .kanban-op-list {
  margin-top: 6px;
  padding-left: 8px;
  font-size: 0.85rem;
  line-height: 1.3;
  color: #dbeafe;
}

#coluna-comercial .kanban-card .kanban-op-line + .kanban-op-line {
  margin-top: 4px;
}

/* ─── Botões dos cards do kanban ─── */
.kanban-card-actions {
  display: flex;
  gap: 8px;
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.btn-kanban {
  flex: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 6px 10px;
  font-size: 0.8rem;
  font-weight: 500;
  color: #fff;
  background: rgba(59, 130, 246, 0.6);
  border: 1px solid rgba(96, 165, 250, 0.4);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.btn-kanban:hover {
  background: rgba(59, 130, 246, 0.8);
  border-color: rgba(96, 165, 250, 0.6);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
}

.btn-kanban:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
}

.btn-kanban i {
  font-size: 0.85rem;
}

.btn-definir-prazo,
.btn-redefinir-prazo {
  background: rgba(168, 85, 247, 0.6);
  border-color: rgba(192, 132, 252, 0.4);
}

.btn-definir-prazo:hover,
.btn-redefinir-prazo:hover {
  background: rgba(168, 85, 247, 0.8);
  border-color: rgba(192, 132, 252, 0.6);
  box-shadow: 0 4px 8px rgba(168, 85, 247, 0.3);
}

.btn-consultar-estoque {
  background: rgba(34, 197, 94, 0.6);
  border-color: rgba(74, 222, 128, 0.4);
}

.btn-consultar-estoque:hover {
  background: rgba(34, 197, 94, 0.8);
  border-color: rgba(74, 222, 128, 0.6);
  box-shadow: 0 4px 8px rgba(34, 197, 94, 0.3);
}


/* ─── Caixa de Detalhes ─── */
.detalhes-box {
  background: var(--content-bg);
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  padding: 16px;
  margin: 16px 8px; /* 16px em cima/baixo e 8px nas laterais */
  color: #fff;    /* ← letras agora em branco */
}

/* cabeçalho dentro da caixa */
.detalhes-box .box-header {
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 8px;
  margin-bottom: 12px;
}
.detalhes-box .box-header h3 {
  margin: 0;
  font-size: 1.25rem;
}

/* conteúdo interno */
.detalhes-box .box-content p {
  margin: 6px 0;
  line-height: 1.4;
}

/* tabela de itens */
.table-det {
  width: 100%;
  border-collapse: collapse;
  margin-top: 12px;
}
.table-det th,
.table-det td {
  padding: 8px;
  border-bottom: 1px solid var(--border-color);
  text-align: left;
}
.table-det th {
  font-weight: 600;
}
/* força branco em todos os textos da caixa de detalhes */
.detalhes-box .box-header,
.detalhes-box .box-content,
.detalhes-box .box-content p,
.table-det th,
.table-det td {
  color: #fff;
}
/* ─── Popup de Cliente ─── */
.cliente-popup {
  position: absolute;
  background: var(--popup-bg);
  color: var(--theme-color);
  padding: 12px;
  border-radius: 6px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  z-index: 1000;
  font-size: 0.9em;
  line-height: 1.4em;
  max-width: 240px;
}
/* saldo suficiente */
/* estoque OK: verde */
.kanban-list li.stock-ok {
  background-color: #e6ffed !important;
}

/* estoque insuficiente: amarelo */
.kanban-list li.stock-low {
  background-color: #fff8e1 !important;
}
/* verde claro com texto escuro */
.kanban-list li.stock-ok {
  background-color: #e6ffed !important;
  color: #333 !important;           /* texto mais escuro */
}

/* amarelo claro com texto escuro */
.kanban-list li.stock-low {
  background-color: #fff8e1 !important;
  color: #333 !important;           /* texto mais escuro */
}

/* garantir que a cor dos spans internos também seja ajustada */
.kanban-list li.stock-ok .item-code,
.kanban-list li.stock-low .item-code {
  color: inherit !important;
}
/* vermelho para itens com qt=0 e tipoItem≠04 */
.kanban-list li.stock-error {
  background-color: #ffe5e5 !important;
  color: #333 !important;
}

/* --- seta após Obs. item --- */
.item-obs {
  position: relative;
  padding-right: 34px;      /* deixa espaço para a seta */
}
.item-obs .obs-arrow {
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 14px;
  cursor: pointer;     /* mostra a mãozinha ao passar o mouse */
  /* deixa a seta verde e destacada */
  color: #28a745;      /* verde “bootstrap success” */
  font-weight: 900;    /* negrito */
  font-size: 18px;     /* opcional – aumente ou remova se não quiser */
}
/* Destaque para o texto de carregamento na aba Detalhes */
#detalhesContainer .loading-details {
  color: #39FF14;      /* verde fluorescente */
  padding: 4px;        /* espaçamento interno */
  margin: 8px 0;       /* espaço acima e abaixo */
  font-weight: 600;    /* deixa o texto mais forte */
}

/* ícone de proibição junto ao Estq.(0) */
.no-drag-icon {
  margin-left: 4px;
  color: #F44336;
  font-size: 0.9em;
  vertical-align: middle;
}

/* Y – spinner visível em qualquer fundo */
.kanban-spinner {
  margin-left: 8px;
  display: none;        /* fica invisível até ser ativado */
  font-size: 1.25rem;   /* 20 px aprox. – ligeiramente maior */
  color: #e60000 !important;  /* vermelho forte para não “sumir” */
}

.kanban-card {
  position: relative;
  min-height: 40px; /* Reduzido para layout compacto */
  cursor: pointer;
  padding: 6px 8px;
  font-size: 12px;
}

#coluna-pcp-aprovado .kanban-card {
  min-height: auto;
  padding: 8px 10px;
  background: linear-gradient(145deg, rgba(37,99,235,0.18), rgba(129,140,248,0.08));
  border: 1px solid rgba(96,165,250,0.35);
  box-shadow: 0 8px 18px rgba(15,23,42,0.35);
}

#coluna-pcp-aprovado .kanban-card.kanban-card-local {
  border-radius: 14px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

#coluna-pcp-aprovado .kanban-card.kanban-card-local:hover {
  transform: translateY(-3px);
  box-shadow: 0 14px 28px rgba(30,64,175,0.35);
}

#coluna-pcp-op .kanban-card {
  min-height: auto;
  padding: 8px 10px;
  background: linear-gradient(145deg, rgba(16,185,129,0.18), rgba(45,212,191,0.08));
  border: 1px solid rgba(52,211,153,0.35);
  box-shadow: 0 8px 18px rgba(15,118,110,0.35);
}

#coluna-pcp-op .kanban-card.kanban-card-production:hover {
  transform: translateY(-3px);
  box-shadow: 0 14px 28px rgba(6,95,70,0.35);
}

#coluna-pcp-op .kanban-card .kanban-op-line {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#coluna-pcp-op .kanban-card .kanban-op-date {
  font-size: 0.75rem;
  color: #99f6e4;
  margin-left: 8px;
}

/* Modal de compras */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  backdrop-filter: blur(4px);
}

.modal-container {
  background: #1a1d24;
  border: 2px solid var(--border-color);
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
  max-width: 90%;
  max-height: 90vh;
  overflow: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  border-bottom: 1px solid var(--border-color);
}

.modal-body {
  padding: 24px;
}

/* Campos avançados do modal de compras */
.compras-campos-toggle {
  background: #111827;
  color: #e5e7eb;
  border: 1px solid #374151;
  border-radius: 8px;
  padding: 8px 10px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 12px;
}

.compras-campos-toggle:hover {
  background: #0f172a;
}

.compras-campo-colapsavel {
  max-height: 500px;
  opacity: 1;
  transition: max-height 0.25s ease, opacity 0.2s ease, margin 0.2s ease, padding 0.2s ease;
}

.compras-campo-colapsavel.is-collapsed {
  max-height: 0;
  opacity: 0;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden;
  border: 0 !important;
}

/* Modal de ações do Kanban (hamburger) */
.compras-acoes-modal {
  background: #111827;
  border: 1px solid #1f2937;
  border-radius: 12px;
  width: min(520px, 92vw);
}

.compras-acoes-grid {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.compras-acao-btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 12px;
  padding: 12px 14px;
  border-radius: 10px;
  background: #1f2937;
  color: #e5e7eb;
}

.compras-acao-btn i {
  font-size: 18px;
  width: 20px;
  text-align: center;
}

.compras-acao-btn:hover {
  background: #0f172a;
}

.compras-acao-text {
  font-size: 14px;
  font-weight: 600;
}

/* Filtros do catálogo Omie */
.catalogo-filtros-toggle {
  background: #1f2937;
  color: #e5e7eb;
  border: 1px solid #374151;
  border-radius: 8px;
  padding: 8px 12px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 12px;
}

.catalogo-filtros-toggle:hover {
  background: #0f172a;
}

.catalogo-filtros-container {
  transition: max-height 0.25s ease, opacity 0.2s ease, margin 0.2s ease;
  max-height: 500px;
  opacity: 1;
}

.catalogo-filtros-container.is-collapsed {
  max-height: 0;
  opacity: 0;
  margin: 0 !important;
  overflow: hidden;
}

/* Estilos para inputs e selects do modal de compras */
#comprasModalForm input[type="text"],
#comprasModalForm input[type="number"],
#comprasModalForm input[type="date"],
#comprasModalForm select,
#comprasModalForm textarea {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-size: 14px;
  background: white;
  color: #1f2937;
  transition: border-color 0.2s, box-shadow 0.2s;
}

#comprasModalForm input[type="text"]:focus,
#comprasModalForm input[type="number"]:focus,
#comprasModalForm input[type="date"]:focus,
#comprasModalForm select:focus,
#comprasModalForm textarea:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

#comprasModalForm select {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: 36px;
}

#comprasModalForm .form-field {
  margin-bottom: 16px;
}

#comprasModalForm .form-field label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
  color: #e5e7eb;
  font-size: 14px;
}

.modal-close-btn {
  background: transparent;
  border: none;
  color: var(--inactive-color);
  font-size: 20px;
  cursor: pointer;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  transition: all 0.2s;
}

.modal-close-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #ef4444;
}

.kanban-modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,0.7);
  backdrop-filter:blur(6px);
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:2rem;
}

.kanban-modal{
  background:#0f172a;
  border-radius:18px;
  width:min(720px, 90vw);
  max-height:80vh;
  overflow:hidden;
  border:1px solid rgba(148,163,184,0.3);
  box-shadow:0 25px 60px rgba(15,23,42,0.6);
  display:flex;
  flex-direction:column;
}

.kanban-modal header{
  padding:24px;
  border-bottom:1px solid rgba(148,163,184,0.2);
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.kanban-modal header h2{
  margin:0;
  font-size:1.3rem;
  color:#e2e8f0;
  text-transform:uppercase;
  letter-spacing:0.08em;
}

.kanban-modal header span{
  color:#38bdf8;
  font-size:0.9rem;
}

.kanban-modal .close-btn{
  background:none;
  border:none;
  color:#94a3b8;
  font-size:1.6rem;
  cursor:pointer;
  transition:color .2s ease;
}

.kanban-modal .close-btn:hover{
  color:#f1f5f9;
}

.kanban-modal-body{
  padding:24px;
  overflow-y:auto;
}

.kanban-modal-body .modal-code-block{
  background:rgba(15,118,110,0.12);
  border:1px solid rgba(45,212,191,0.25);
  border-radius:14px;
  padding:18px;
  margin-bottom:18px;
}

.modal-code-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
  color:#99f6e4;
  font-weight:600;
  letter-spacing:0.05em;
}

.modal-orders{
  margin-bottom:16px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.modal-orders label{
  font-size:0.8rem;
  text-transform:uppercase;
  letter-spacing:0.06em;
  color:#a5f3fc;
}

.modal-orders select{
  background:rgba(15,23,42,0.65);
  border:1px solid rgba(148,163,184,0.4);
  color:#f8fafc;
  border-radius:10px;
  padding:8px 10px;
  font-size:0.85rem;
  min-height:110px;
}

.modal-orders select option{
  padding:4px 0;
}

.op-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  background:rgba(248,250,252,0.06);
  border-radius:10px;
  padding:10px 14px;
  margin-top:8px;
}

.op-row strong{
  color:#e2e8f0;
  font-family:'JetBrains Mono', monospace;
}

.op-row input[type=\"date\"]{
  background:#020617;
  border:1px solid rgba(148,163,184,0.35);
  color:#f1f5f9;
  border-radius:8px;
  padding:6px 10px;
  font-size:0.85rem;
  width:140px;
}

.op-row input[type=\"time\"]{
  background:#020617;
  border:1px solid rgba(148,163,184,0.35);
  color:#f1f5f9;
  border-radius:8px;
  padding:6px 10px;
  font-size:0.85rem;
  width:110px;
}

.op-inputs{
  display:flex;
  gap:8px;
  align-items:center;
}

.op-row .op-excluir{
  background:none;
  border:none;
  color:#f87171;
  cursor:pointer;
  padding:6px;
  border-radius:999px;
  transition:background 0.2s ease, transform 0.2s ease;
}

.op-row .op-excluir:hover{
  background:rgba(248,113,113,0.18);
  transform:translateY(-1px);
}

.op-row .op-excluir:disabled{
  opacity:0.55;
  cursor:default;
  transform:none;
}

/* Botão editar, visual semelhante ao excluir porém em azul */
.op-row .op-editar{
  background:none;
  border:none;
  color:#60a5fa;
  cursor:pointer;
  padding:6px;
  border-radius:999px;
  transition:background 0.2s ease, transform 0.2s ease;
}

.op-row .op-editar:hover{
  background:rgba(96,165,250,0.18);
  transform:translateY(-1px);
}

.op-row .op-editar:disabled{
  opacity:0.55;
  cursor:default;
  transform:none;
}

.excluded-op-line{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:8px 10px;
  background:rgba(248,250,252,0.05);
  border-radius:10px;
  margin-top:6px;
}

.excluded-op-info{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.op-reativar{
  display:inline-flex;
  align-items:center;
  gap:6px;
  background:rgba(34,197,94,0.18);
  border:1px solid rgba(34,197,94,0.4);
  color:#bbf7d0;
  padding:6px 12px;
  border-radius:999px;
  cursor:pointer;
  font-size:0.75rem;
  text-transform:uppercase;
  letter-spacing:0.08em;
  transition:background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
}

.op-reativar i{
  font-size:0.85rem;
}

.op-reativar:hover{
  background:rgba(34,197,94,0.28);
  transform:translateY(-1px);
  box-shadow:0 8px 20px rgba(34,197,94,0.25);
}

.op-reativar:disabled{
  opacity:0.55;
  cursor:default;
  transform:none;
  box-shadow:none;
}

.kanban-header .kanban-icon-btn{
  background:none;
  border:none;
  color:#cbd5f5;
  cursor:pointer;
  padding:4px 6px;
  border-radius:999px;
  transition:background 0.2s ease, color 0.2s ease;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.kanban-header .kanban-icon-btn:hover{
  background:rgba(248,250,252,0.08);
  color:#facc15;
}

.kanban-modal footer{
  padding:20px 24px;
  border-top:1px solid rgba(148,163,184,0.2);
  display:flex;
  justify-content:flex-end;
  gap:14px;
}

.kanban-modal footer button{
  border:none;
  border-radius:999px;
  padding:10px 22px;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:0.08em;
  cursor:pointer;
  transition:transform 0.2s ease, box-shadow 0.2s ease;
}

.modal-secondary{
  background:rgba(100,116,139,0.2);
  color:#cbd5f5;
}

.modal-secondary:hover{
  transform:translateY(-1px);
  box-shadow:0 6px 18px rgba(148,163,184,0.25);
}

.modal-primary{
  background:linear-gradient(135deg,#0ea5e9,#22d3ee);
  color:#0f172a;
}

.modal-primary:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 25px rgba(14,165,233,0.35);
}
#coluna-pcp-aprovado .kanban-card .kanban-op-list {
  margin-top: 6px;
  padding-left: 8px;
  font-size: 0.85rem;
  line-height: 1.3;
  color: #cbd5f5;
}

#coluna-pcp-aprovado .kanban-card .kanban-card-meta {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: #38bdf8;
  margin-bottom: 6px;
}

#coluna-pcp-op .kanban-card .kanban-card-meta {
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: #5eead4;
  margin-bottom: 6px;
}

#coluna-pcp-op .kanban-card .kanban-op-list {
  margin-top: 6px;
  padding-left: 8px;
  font-size: 0.85rem;
  line-height: 1.3;
  color: #bff0ff;
}

#coluna-pcp-aprovado .kanban-card .kanban-op-line + .kanban-op-line {
  margin-top: 2px;
}

.kanban-card .kanban-modal-trigger {
  margin-top: 12px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(248, 250, 252, 0.14);
  color: #e0f2fe;
  font-size: 0.75rem;
  text-transform: uppercase;
  padding: 6px 12px;
  border-radius: 999px;
  cursor: pointer;
  letter-spacing: 0.08em;
  transition: background 0.2s ease, transform 0.2s ease;
}

.kanban-card .kanban-modal-trigger:hover {
  background: rgba(248, 250, 252, 0.24);
  transform: translateY(-1px);
}

.kanban-code-actions {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.kanban-code-actions .kanban-modal-trigger {
  margin-top: 0;
}

.kanban-stock-trigger {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  background: rgba(15, 23, 42, 0.2);
  color: #e2e8f0;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.2s ease;
}

.kanban-stock-trigger:hover {
  background: rgba(148, 163, 184, 0.3);
  transform: translateY(-1px);
}
#coluna-pcp-aprovado .kanban-card .kanban-code-block + .kanban-code-block {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px dashed rgba(148, 163, 184, 0.35);
}
#coluna-pcp-op .kanban-card .kanban-code-block + .kanban-code-block {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px dashed rgba(56, 189, 248, 0.35);
}

#coluna-pcp-aprovado .kanban-card .kanban-code-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  font-weight: 600;
  color: #e2e8f0;
}

#coluna-pcp-aprovado .kanban-card .kanban-code-count {
  background: rgba(34, 197, 94, 0.18);
  color: #bbf7d0;
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

/* ─── Marcador de pedido duplicado ─── */
/* remove qualquer .duplicate-marker que ainda exista */
.duplicate-marker{display:none!important;}

/* classe aplicada ao <li> que é duplicado */
li.duplicado{
  /* já existe `position:relative` nos cards que tinham o span,
     mas garantimos para todos: */
  position:relative;
}

/* sobrepõe 50 % à direita em vermelho */
li.duplicado::after{
  content:'';
  position:absolute;
  top:0;
  right:0;
  width:2%;            /* metade do card */
  height:100%;
  background:#F44336;   /* vermelho alerta */
  border-top-right-radius:4px;     /* mantém o mesmo arredondado */
  border-bottom-right-radius:4px;  /*   usado nos seus cards */
  pointer-events:none;  /* não atrapalha drag & drop */
}

/* ≡ Container Geral dos Detalhes ≡ */
.detalhes-wrapper {
  /* Use cor de fundo suave para destacar sobre o restante da página */
  background-color: #f5f7fa;  
  border-radius: 8px;
  padding: 1.5rem;
  /* Sombra suave para “levantar” o cartão */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  margin: 1rem 0;
}

/* ≡ Cabeçalho dos Dados do Pedido ≡ */
.detalhes-header {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
  margin-bottom: 1.5rem;
}
/* Cada bloco (Quantidade / Observação) fica num “cardzinho” secundário */
.campo-detalhe {
  display: flex;
  flex-direction: column;
  background-color: #ffffff;
  border-radius: 6px;
  padding: 0.75rem 1rem;
  /* Borda fina para destacar levemente */
  border: 1px solid #e1e6ee;
  min-width: 200px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
}
.campo-detalhe .label-detalhe {
  font-weight: 600;
  font-size: 0.9rem;
  color: #334155;
  margin-bottom: 0.25rem;
}
.campo-detalhe .valor-detalhe {
  font-size: 1.1rem;
  color: #1e293b;
}

/* ≡ Tabela de Itens ≡ */
.tabela-detalhes {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background-color: #ffffff;
  border-radius: 6px;
  overflow: hidden;
  /* Sombra sutil para o “cartão de tabela” */
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
}
.tabela-detalhes thead {
  background-color: #0284c7; /* Azul-acento; ajuste conforme tema */
}
.tabela-detalhes th,
.tabela-detalhes td {
  padding: 0.75rem 1rem;
  text-align: left;
  font-size: 0.95rem;
  color: #1e293b;
}
.tabela-detalhes th {
  font-weight: 600;
  color: #ffffff;
  border-bottom: 1px solid #e2e8f0;
}
.tabela-detalhes tbody tr {
  background-color: #ffffff;
}
/* Alternar cor de fundo nas linhas para facilitar leitura */
.tabela-detalhes tbody tr:nth-child(even) {
  background-color: #f8fafc;
}
/* Efeito hover para destacar a linha */
.tabela-detalhes tbody tr:hover {
  background-color: #e2e8f0;
}

/* ===== Mensagem de Erro / Loading ===== */
.loading-details,
.fault-message {
  font-size: 1rem;
  color: #475569;
  text-align: center;
  padding: 1rem;
  background-color: #ffffff;
  border-radius: 6px;
  border: 1px solid #e2e8f0;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
  margin: 1rem 0;
}
.fault-message {
  color: #b91c1c;
  background-color: #fef2f2;
  border-color: #fecaca;
}

/* ===== Ajustes de Responsividade ===== */
@media (max-width: 768px) {
  .detalhes-header {
    flex-direction: column;
    gap: 1rem;
  }
  .campo-detalhe {
    width: 100%;
  }
  .tabela-detalhes th,
  .tabela-detalhes td {
    padding: 0.5rem 0.75rem;
    font-size: 0.9rem;
  }
}


/* ===== Estilo unificado para todos os ícones em header-profile ===== */
/* ===== Header – Ícones do perfil ===== */
.header-profile{
  margin-left:auto;          /* cola tudo na direita do header           */
  display:flex;
  align-items:center;
  gap:16px;                  /* distância IGUAL entre todos os filhos   */
  padding-left:40px;         /* recuo igual ao campo de busca (opcional)*/
}

/* sinos / impressora / nuvem */
.header-profile i,
.header-profile svg{
  font-size:1.4rem;          /* mesmo “tamanho visual”                   */
  color:#f9fafb;
  cursor:pointer;
  transition:transform .2s,color .2s;
}
.header-profile i:hover,
.header-profile svg:hover{
  transform:scale(1.1);
  color:var(--theme-color);
}

/* badge azul do sino */
.notification{
  position:relative;
}
.notification-number{
  position:absolute;
  top:-6px;right:-6px;
  width:16px;height:16px;
  background:#3a6df0;color:#fff;
  border-radius:50%;font-size:10px;
  display:flex;align-items:center;justify-content:center;
}

/* foto do usuário */
.profile-img{
  width:32px;height:32px;
  border-radius:50%;
  object-fit:cover;
  border:2px solid var(--theme-color);
  margin-left:22px;
  flex-shrink:0;
  position:relative;
}
.profile-img { cursor: pointer; }


.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:999}
.modal.is-active{display:flex;justify-content:center;align-items:center}
.modal-content{background:#fff;border-radius:8px;padding:1.5rem;max-height:80vh;
               overflow:auto;width:min(92vw,500px);box-shadow:0 6px 18px #0003}

/* Z-index específico para modais de compras */
#modalAprovacaoRequisicao{position:fixed!important;z-index:10002!important}
#modalObservacaoRetificacao{position:fixed!important;z-index:10005!important}
.close-modal{cursor:pointer;font-size:1.3rem;float:right;margin-left:auto}
.etiquetas-list li{display:flex;justify-content:space-between;align-items:center;
                   padding:.35rem 0;border-bottom:1px solid #ddd}
.btn-print{padding:.25rem .7rem;font-size:.9rem}

#etiquetasModal.is-active{
  visibility: visible;
  opacity: 1;
}

#etiquetasModal .btn-print{
  padding:4px 12px;
  background:#3a6df0;
  color:#fff;
  border:none;
  border-radius:20px;
  cursor:pointer;
}
/* === 1. Modal de ETIQUETAS =============================== */
.modal-content,
.etiquetas-list li,
.etiquetas-list li span       { color:#333; }   /* texto cinza-escuro */
.etiquetas-list .btn-print    { color:#fff; background:#3a6df0; }
.etiquetas-list .btn-print:hover { filter:brightness(1.1); }

/* === 2. Formulário de LOGIN =============================== */
.auth-popup form,
.auth-popup form h1,
.auth-popup form label,
.auth-popup form span         { color:#333; }

.auth-popup form input        { color:#333; }
.auth-popup form input::placeholder { color:#777; }   /* placeholder cinza */

/* 1. Esconde por padrão */
.kanban-column.empty .placeholder {
  display: none;
}

/* 2. Mostra em dragover, sem animação piscante */
.kanban-column.empty.dragover .placeholder {
  display: block;
  animation: none !important;       /* remove qualquer keyframe ligado */
  opacity: 1 !important;            /* força opacidade total */
  border: 2px dashed #ccc;          /* estilo estático de guia */
}
/* espaço extra e placeholder estático */
.kanban-column.drop-expand {
  padding-bottom: 60px;              /* altura reservada */
  transition: padding-bottom .2s ease;
}
.kanban-column.drop-expand .placeholder {
  display: block;                    /* força exibição */
  height: 50px;                      /* ajuste à altura do cartão */
  margin: 5px 0;
  border: 2px dashed #888;           /* guia visual */
  opacity: 1 !important;
  animation: none !important;
}
/* escondido por padrão */
.kanban-column .placeholder {
  display: none;
}

/* styling para o cartão de loading */
.kanban-card.loading {
  position: relative;
  opacity: 0.6;
  pointer-events: none;
}
/* a “barra” de progresso */
.loading-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: #eee;
  overflow: hidden;
}
.loading-bar .progress {
  width: 0;
  height: 100%;
  background: #0b75c9;
  animation: loading-anim 1.2s linear infinite;
}
@keyframes loading-anim {
  0%   { width: 0; }
  50%  { width: 100%; }
  100% { width: 0; }
}
/* ícone de “+” junto ao título */
.kanban-header .add-btn {
  margin-left: 8px;
  cursor: pointer;
  color: #fff;
  transition: color .2s;
}
.kanban-header .add-btn:hover {
  color: #0b75c9;
}

/* container de pesquisa oculto por padrão */
.kanban-header .add-container {
  display: none;
  padding: 8px;
  background: rgba(255,255,255,0.1);
}
.kanban-column.search-expand .kanban-header .add-container {
  display: block;
}

/* estilo do input */
.kanban-header .add-search {
  width: 100%;
  padding: 6px 8px;
  border-radius: 4px;
  border: 1px solid #ccc;
}
/* container de resultados */
.add-results {
  list-style: none;
  margin: 4px 0 0;
  padding: 0;
  max-height: 200px;
  overflow-y: auto;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 4px;
  z-index: 10;
  position: relative;
}

/* cada item */
.add-results .result-item {
  padding: 6px 8px;
  cursor: pointer;
}
.add-results .result-item:hover {
  background: #f0f0f0;
}

/* mensagem de erro no listbox */
.add-results .error {
  color: red;
  padding: 6px 8px;
}
/* ========= Estilo escuro para o listbox de resultados ========= */
.add-results {
  background-color: #1F1F23;    /* fundo escuro */
  border: 1px solid #3A3A3C;    /* borda sutil */
  border-radius: 4px;
  max-height: 200px;
  overflow-y: auto;
  padding: 4px 0;
  margin-top: 4px;
}

/* Ajuste da cor padrão do texto */
.add-results,
.add-results .result-item {
  color: #E0E0E0;               /* texto claro */
  font-size: 0.9rem;
}

/* Cada item de resultado */
.add-results .result-item {
  padding: 6px 12px;
  cursor: pointer;
  transition: background-color .15s;
}

/* Hover / foco */
.add-results .result-item:hover,
.add-results .result-item:focus {
  background-color: #2A2A2E;    /* leve realce */
}

/* Caso de erro */
.add-results .error {
  color: #FF6B6B;               /* vermelho suave */
  padding: 6px 12px;
}

/* Scrollbar escura (Firefox) */
.add-results {
  scrollbar-color: #555 #1F1F23;
}

/* Scrollbar escura (Webkit) */
.add-results::-webkit-scrollbar {
  width: 8px;
}
.add-results::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 4px;
}
.add-results::-webkit-scrollbar-track {
  background-color: #1F1F23;
}
/* ──────────────────────────────────────────────────
   Layout de Lista de Peças idêntico à Estrutura de produto
   ────────────────────────────────────────────────── */
#listaPecasPCP .content-section ul#listaPecasPCPList {
  display: block;
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 600px;
  overflow-y: auto;
  overflow-x: auto;
}

#listaPecasPCP .content-section ul#listaPecasPCPList li.header-row {
  display: grid;
  grid-template-columns: var(--pcp-grid);
  column-gap: 1rem;
  align-items: center;
  padding: 8px 18px;
  position: sticky; top: 0; z-index: 2;
  background: rgba(16,18,27,0.92);
  backdrop-filter: blur(4px);
  border-bottom: 1px solid var(--border-color);
  font-weight: bold;
  text-align: center;
}
#listaPecasPCP .content-section ul#listaPecasPCPList li.header-row div:nth-child(-n+2) {
  text-align: left;
}

#listaPecasPCP .content-section ul#listaPecasPCPList li:not(.category-header):not(.header-row) {
  display: grid;
  grid-template-columns: var(--pcp-grid);
  column-gap: 1rem;
  align-items: center;
  padding: 8px 18px;
}

#listaPecasPCP .content-section ul#listaPecasPCPList li.category-header {
  display: block;
  background: rgba(144,119,119,0.41);
  font-size: 1.1em;
  padding: 8px 18px;
  cursor: default;
}

/* remove pontinho e recuo na descrição */
#listaPecasPCP #listaPecasPCPList .status-circle { display: none; }
#listaPecasPCP #listaPecasPCPList .status {
  display: block;
  margin: 0;
  padding: 0;
  white-space: normal;
}

#listaPecasPCP #listaPecasPCPList .status-text {
  margin-left: 0;
  word-break: break-word;
}

#listaPecasPCP #listaPecasPCPList .qtd,
#listaPecasPCP #listaPecasPCPList .unidade,
#listaPecasPCP #listaPecasPCPList .valor {
  text-align: center;
}

#listaPecasPCP #listaPecasPCPList .button-wrapper {
  width: auto;
  display: flex;
  justify-content: center;
}

#listaPecasPCP #listaPecasPCPList .products,
#listaPecasPCP #listaPecasPCPList .status {
  width: auto;
  margin-left: 0;
}

#listaPecasPCP #listaPecasPCPList .button-wrapper .status-button {
  padding: 6px 18px;
}

/* ─── Botão ⋯ ───────────────────────────────────── */
.more-btn{
  font-size:24px;
  color:var(--theme-color);  /* branco/lilás do tema */
  background:none;
  border:none;
  cursor:pointer;
  display:none;      /*   ←  começa escondido   */
}
.more-menu.open{ display:flex; }

.more-btn:hover{
  color:var(--theme-color);
}
/* ─── Dropdown oculto ───────────────────────────── */
.more-menu{
  position:absolute;
  top:58px;                 /* logo abaixo do cabeçalho de 58 px */
  right:30px;               /* mesmo padding do header */
  display:none;
  flex-direction:column;
  min-width:160px;
  background:var(--dropdown-bg);
  border:1px solid var(--border-color);
  border-radius:4px;
  z-index:100;
}
.more-menu a{
  padding:10px 16px;
  color:var(--theme-color);
  text-decoration:none;
  white-space:nowrap;
}
.more-menu a:hover{
  background:var(--dropdown-hover);
}
.more-menu.open{display:flex;}
.header{position:relative;}     /* referência para o dropdown */

.header {
  display: flex;
  align-items: center;
  padding: 0 30px;
  gap: 0;                 /* já tinha boa parte disso no seu CSS */
}

/* nav que pode “estourar” */
.header-menu {
  flex: 1 1 auto;
  display: flex;
  overflow: hidden;       /* corta o que não couber */
}

/* botão ⋯ */
.more-btn {
  flex: 0 0 auto;
  font-size: 24px;
  padding: 20px 16px;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--inactive-color);
  display: none;          /* aparece só quando houver abas ocultas */
}

/* dropdown */
.more-menu {
  position: absolute;
  top: 58px;              /* logo abaixo da faixa */
  right: 30px;
  display: none;
  flex-direction: column;
  min-width: 160px;
  background: var(--dropdown-bg);
  border: 1px solid var(--border-color);
  border-radius: 4px;
  z-index: 100;
}
.more-menu a {
  padding: 10px 16px;
  color: var(--theme-color);
  text-decoration: none;
  white-space: nowrap;
}
.more-menu a:hover { background: var(--dropdown-hover); }
.more-menu.open   { display: flex; }
/* valor de estoque em cinza claro para não poluir */
#listaPecasPCPList .est {
  color: var(--inactive-color);
  font-size: 0.9em;
}



/* ----- lista de peças PCP ----- */
#listaPecasPCPList li {
  display: flex;
  gap: .5rem;
  align-items: center;
  padding: .2rem .4rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

#listaPecasPCPList .cod   { font-weight: 600; min-width: 8rem; }
#listaPecasPCPList .desc  { flex: 1 1 auto; overflow: hidden; text-overflow: ellipsis; }
#listaPecasPCPList .qtd,
#listaPecasPCPList .est   { margin-left: .5rem; flex-shrink: 0; }


/* estoque crítico */
#listaPecasPCPList .est.low {
  color: #e74c3c;          /* vermelho */
  font-weight: 600;
}
#listaPecasPCPList li .unit {
  color: #9fa3ad;          /* cinza claro */
  margin-left: 2px;
}

.code-bar .prod-code{
  color:#d0d0d0;          /* ajuste para combinar com seu tema dark */
}
.code-bar .plus-btn{
  border:none;
  background:none;
  color:#8cf;             /* cor de destaque – mude à vontade          */
  font-size:1.1rem;
  cursor:pointer;
  line-height:1;
  padding:0 .25rem;
}
.code-bar .plus-btn:hover{
  transform:scale(1.2);
}
/* faz o wrapper quebrar linha */
#listaPecasPCP .title-wrapper{
  display: flex;
  flex-wrap: wrap;      /* ← permite nova linha */
  align-items: center;
  gap: .5rem;
}

/* ocupa a linha inteira */
.code-bar{
  flex: 0 0 100%;
  display: flex;
  align-items: center;
  gap: .75rem;
  font-weight: 500;
  font-size: 0.95rem;
}
#pcp-code-bar input[type="text"]{
  flex:1;
  min-width:220px;
  padding:8px 12px;
  border-radius:8px;
  border:1px solid rgba(148,163,184,0.3);
  background: rgba(15,23,42,0.55);
  color:#f8fafc;
}
#pcp-code-bar input[type="text"]:focus{
  outline:none;
  border-color: rgba(94,234,212,0.55);
  background: rgba(15,23,42,0.85);
}

/* botão de limpar filtros da lista PCP */
.clear-btn{
  margin-left: 8px;
  padding: 4px 10px;
  font-size: 0.9rem;
  background:#444;
  color:#fff;
  border:1px solid #555;
  border-radius:4px;
  cursor:pointer;
}
.clear-btn:hover{
  background:#666;
}
/* linha dos filtros */
#listaPecasPCP .title-wrapper,
#listaPecasPCP .desc-wrapper{
  display:flex;
  align-items:center;
}

/* garante pequena folga entre campos */
#listaPecasPCP .title-wrapper > *:not(:last-child){
  margin-right:8px;
}

/* campo de texto ocupa todo o espaço que sobrar */
#descFilterPCP{
  flex:1 1 auto;
}

/* botão-ícone “Limpar” */
.clear-icon{
  flex:0 0 auto;
  background:transparent;
  border:none;
  font-size:1.4rem;     /* maior que o texto dos inputs */
  line-height:1;
  color:#bbb;
  cursor:pointer;
}
.clear-icon:hover{
  color:#fff;
}
/* ——— Código no topo da guia “Dados do produto” ——— */
#productTitle {
  text-transform: uppercase;
}
/* cartão que acabou de ser criado na coluna Aguardando prazo */
.flash-new {
  background: #235c23 !important;   /* verde escuro */
  color: #fff;                      /* texto branco p/ contraste */
  transition: background 0.8s ease;
}


/* ——— Tabelas do módulo Armazéns ——— */
table.tabela {
  width: 100%;
  border-collapse: collapse;      /* cola linhas -> some o “pulo” */
  border-spacing: 0;
  color: #eee;
  font-size: 0.9rem;
}

table.tabela thead {
  background: #222;
  text-transform: uppercase;
}

table.tabela th,
table.tabela td {
  padding: 6px 8px;
  border: 1px solid #444;         /* linhas discretas */
}

/* Colunas ordenáveis */
table.tabela th.sortable {
  cursor: pointer;
  user-select: none;
  transition: background 0.2s;
}

table.tabela th.sortable:hover {
  background: #333;
}

table.tabela th.sortable i {
  margin-left: 4px;
  font-size: 0.85em;
  opacity: 0.5;
}

table.tabela th.sortable.sort-asc i,
table.tabela th.sortable.sort-desc i {
  opacity: 1;
}

table.tabela th.sortable.sort-asc i::before {
  content: '\f0de';  /* fa-sort-up */
}

table.tabela th.sortable.sort-desc i::before {
  content: '\f0dd';  /* fa-sort-down */
}

table.tabela tbody tr:nth-child(even) { background: #2a2a2a; }
table.tabela tbody tr:hover       { background: #333; }

table.tabela td.num {
  text-align: right;
  font-variant-numeric: tabular-nums;  /* algarismos alinhados */
}

/* ——— Paginação ——— */
.almox-pager {
  display: flex;
  gap: 6px;
  align-items: center;
  justify-content: center;    /* centraliza */
  font-size: 0.9rem;
}

.almox-pager .btn.tiny {
  padding: 2px 6px;
  background: #2a2a2a;
  border: 1px solid #444;
  color: #eee;
  cursor: pointer;
}

/* ——— Área rolável em ambas as direções ——— */
.almox-wrapper {
  max-height: 60vh;          /* rolagem vertical               */
  overflow-y: auto;
  overflow-x: auto;          /* rolagem horizontal se precisar */
  margin-bottom: 8px;
}

/* ——— Larguras fixas e reticências ——— */
.almox-wrapper table {
  table-layout: fixed;   /* força as larguras abaixo */
  width: 100%;
}

.almox-wrapper thead th {
  position: sticky;
  top: 0;
  z-index: 5;
  background: #222; /* reforça cor quando estiver fixo */
}

.almox-wrapper tbody tr {
  cursor: pointer;
}
.almox-wrapper tbody tr:active {
  background: #3a3a3a;
}

/* 1ª coluna – Código */
.almox-wrapper td:nth-child(1),
.almox-wrapper th:nth-child(1) {
  width: 120px;          /* ~⅔ da largura anterior */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 2ª coluna – Descrição (reticências) */
.almox-wrapper td:nth-child(2),
.almox-wrapper th:nth-child(2) {
  width: 360px;          /* ajuste conforme seu layout */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Demais colunas numéricas — largura enxuta */
.almox-wrapper td:nth-child(n+3),
.almox-wrapper th:nth-child(n+3) {
  width: 100px;   /* estava 80px */
}

/* Ajuste fino de larguras ----------------------------------- */
.almox-wrapper th:nth-child(1),
.almox-wrapper td:nth-child(1) { width: 120px; }  /* CÓDIGO      */
.almox-wrapper th:nth-child(2),
.almox-wrapper td:nth-child(2) { width: 320px; }  /* DESCRIÇÃO   */
.almox-wrapper th:nth-child(n+3),
.almox-wrapper td:nth-child(n+3) { width: 100px; } /* numéricas   */

/* ——— campo de busca ——— */
.search-box {
  margin-left: 12px;
  padding: 4px 6px;
  font-size: 0.85rem;
  background: #1a1a1a;
  border: 1px solid #444;
  color: #eee;
  border-radius: 4px;
  width: 220px;
}
.search-box::placeholder { color:#777; }

/* ——— total CMC (à direita do campo de busca) ——— */
.cmc-total {
  margin-left: 16px;
  font-size: 0.85rem;
  color: #bbb;
  white-space: nowrap;
}


.producao-wrapper {
  max-height: 60vh;
  overflow-y: auto;
  overflow-x: auto;
  margin-bottom: 8px;
}

/* usa as mesmas larguras */
.producao-wrapper table         { table-layout: fixed; width:100%; }
.producao-wrapper td:nth-child(1),
.producao-wrapper th:nth-child(1){ width:110px; white-space:nowrap; overflow:hidden;text-overflow:ellipsis; }
.producao-wrapper td:nth-child(2),
.producao-wrapper th:nth-child(2){ width:320px; white-space:nowrap; overflow:hidden;text-overflow:ellipsis; }
.producao-wrapper td:nth-child(n+3),
.producao-wrapper th:nth-child(n+3){ width:95px; }



/* — filtro por tipo — */
.filter-icon {
  margin-left: 10px;
  background: transparent;
  border: none;
  color: #ddd;
  cursor: pointer;
}
.filter-icon:hover { color: #fff; }

.filter-panel {
  position: absolute;
  z-index: 10;
  background: #1b1b1b;
  border: 1px solid #444;
  padding: 8px 10px;
  border-radius: 6px;
  max-height: 50vh;
  overflow-y: auto;
  box-shadow: 0 4px 12px rgba(0,0,0,.6);
  min-width: 220px;
  display: none;
  flex-direction: column;
  gap: 4px;
}

.filter-panel.is-open {
  display: flex;
}

.filter-panel label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: .85rem;
  margin: 4px 0;
  color: #eee;
}
.filter-panel label span {
  flex: 1;
  line-height: 1.2;
}
.filter-panel input[type="checkbox"] {
  accent-color: #3fa7ff;   /* azul */
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.almox-filter-controls {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 4px 2px 8px;
  margin-bottom: 6px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

.almox-select-toggle {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 14px;
  border-radius: 999px;
  background: rgba(63, 167, 255, 0.14);
  color: #d9ecff;
  cursor: pointer;
  font-size: 0.85rem;
  transition: background 0.2s ease, color 0.2s ease;
}

.almox-select-toggle:hover {
  background: rgba(63, 167, 255, 0.26);
  color: #ffffff;
}

.almox-select-toggle input {
  width: 18px;
  height: 18px;
  accent-color: #3fa7ff;
}

.almox-toggle-text {
  white-space: nowrap;
}

.filter-panel .almox-filter-option {
  margin: 2px 0;
}

.transferencia-wrapper {
  margin-top: 12px;
}

.transferencia-wrapper .transferencia-placeholder {
  text-align: center;
  color: #aaa;
}

.transferencia-table tbody tr {
  cursor: default;
}

.transferencia-controls {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 10px;
}

.transferencia-search {
  position: relative;
  max-width: 480px;
  flex: 1 1 320px;
}

.transferencia-search .search-box {
  margin-left: 0;
  width: 100%;
}

/* Dropdown de busca (mesmo visual do kanban) */
.transfer-search-dropdown {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  z-index: 25;
  display: none;
  background: #141414;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 4px;
  box-shadow: 0 10px 22px rgba(0,0,0,0.45);
  padding: 0;
}

.transfer-search-results {
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 200px;
  overflow-y: auto;
  background: transparent;
}

.transfer-search-results li {
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 8px 10px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  cursor: pointer;
  color: #fff;
  font-size: 0.9rem;
}
.transfer-search-results li:last-child { border-bottom: none; }
.transfer-search-results li:hover      { background: #1f1f1f; }

.transfer-search-results li.info,
.transfer-search-results li.no-results {
  justify-content: center;
  font-style: italic;
  cursor: default;
  background: #1a1a1a;
  color: #d0d4dc;
}
.transfer-search-results li.error {
  justify-content: center;
  font-style: italic;
  cursor: default;
  background: #2a0f15;
  color: #ffb4b4;
}

.transfer-search-results li span.codigo {
  flex: 0 0 140px;
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.transfer-search-results li span.descricao {
  flex: 1 1 auto;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.transferencia-locais {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, auto));
  gap: 12px 16px;
  align-items: end;
  margin-top: 10px;
}

.transferencia-locais label {
  font-size: 0.85rem;
  color: #ddd;
}
.transferencia-locais .origem-group,
.transferencia-locais .destino-group {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.destino-inline {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.destino-inline .icon-btn {
  width: 28px;
  height: 24px;
}

.destino-inline .icon-btn[disabled] {
  opacity: 0.4;
  cursor: not-allowed;
}

.destino-inline .icon-btn i {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: 12px;
}

.transfer-select {
  background: #1a1a1a;
  border: 1px solid #333;
  color: #eee;
  padding: 4px 8px;
  border-radius: 4px;
  min-width: 200px;
  cursor: pointer;
}

.transfer-select:focus {
  outline: 1px solid #3fa7ff;
}

.transferencia-table th.sel-col {
  width: 32px;
}

.transferencia-table td.sel input[type="checkbox"] {
  transform: scale(0.85);
  cursor: pointer;
  accent-color: #3fa7ff;
}

.transferencia-table td.qtd-cell {
  text-align: center;
}

.transferencia-table td.qtd-cell input.transfer-qtd {
  width: 70px;
  padding: 2px 4px;
  background: #121212;
  border: 1px solid #333;
  color: #eee;
  border-radius: 4px;
  text-align: right;
  appearance: textfield;
  -moz-appearance: textfield;
}

.transferencia-table td.qtd-cell input.transfer-qtd:focus {
  outline: 1px solid #3fa7ff;
}

.transferencia-table td.qtd-cell input.transfer-qtd::-webkit-outer-spin-button,
.transferencia-table td.qtd-cell input.transfer-qtd::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.transferencia-table td:nth-child(2),
.transferencia-table th:nth-child(2) {
  width: 160px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.transferencia-table td:nth-child(3),
.transferencia-table th:nth-child(3) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.transferencia-table th.desc-col,
.transferencia-table td.desc-cell {
  width: 25ch;
  max-width: 25ch;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.transferencia-table td.sel {
  text-align: center;
}


/* --- Painel Início --- */
.inicio-grid{
  /* layout anterior em flex podia forçar largura em alguns cenários */
  /* usamos grid responsivo que quebra automaticamente */
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
  padding: 20px 0;
}

.inicio-btn{
  min-width:220px;
  flex:1 1 220px;
  padding:18px 24px;
  border-radius:10px;
  font-size:16px;
  background:var(--theme-bg-color);
  color:var(--theme-color);
  border:1px solid var(--border-color);
  cursor:pointer;
  transition:.25s;
}
.inicio-btn:hover{background:var(--hover-menu-bg);}
/* mantém o comportamento original */
.header .header-menu > .menu-link:hover {
  cursor: pointer;          /* 👈 força a mãozinha */
}

.iniciar-prod-btn{ margin-bottom:1rem; }

/* --- Carrossel Semanal (Página Início) --- */
#paginaInicio .content-wrapper {
  /* garante que o conteúdo role internamente sem “estourar” o app */
  overflow: auto;
}

.semana-carousel-container {
  position: relative;
  overflow: hidden;     /* importante: limita a faixa visível */
  width: 100%;
}

.semana-carousel {
  display: flex;
  gap: 12px;
  will-change: transform;
}

.semana-day-card {
  flex: 0 0 162px; /* largura usada nos cálculos do JS */
  background: var(--content-bg);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  padding: 10px;
  color: var(--theme-color);
}

.semana-day-card.center {
  outline: 1px solid #3a6df0;
  outline-offset: 0;
}

.semana-day-card.hoje {
  box-shadow: 0 0 0 2px rgba(58,109,240,0.25) inset;
}

.semana-day-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.semana-day-date {
  font-weight: 700;
}

.semana-day-dow {
  font-size: 12px;
  color: var(--inactive-color);
}

.semana-day-badge {
  background: rgba(58,109,240,0.15);
  color: #9db6ff;
  border: 1px solid rgba(58,109,240,0.3);
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 12px;
}

.semana-produtos {
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 220px; /* evita crescer indefinidamente */
  overflow: hidden;  /* mantém tudo dentro do card */
}

.semana-produto-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  min-height: 22px;
}

.semana-empty {
  color: var(--inactive-color);
  font-size: 12px;
}

/* status icons cores */
.status-excluido { color: #ef4444; }
.status-produzindo { color: #f59e0b; }
.status-produzido { color: #10b981; }
.status-aguardando, .status-novo { color: #93c5fd; }


  /* Força 8 colunas só para a lista do PCP */
  /* já está usando grid de 8 colunas; garantimos e alinham-se as células */
  #listaPecasPCPList.grid-pecas li {
  display: grid;
  /*                cod   desc  unid  qtd   perda qtdb   qpro   qalm   acao   */
  grid-template-columns: 140px 1fr  80px  80px  110px  90px   90px   110px !important;
  gap: 8px;
  align-items: center;
  }
  #listaPecasPCPList .unid,
  #listaPecasPCPList .qtd,
  #listaPecasPCPList .perda,
  #listaPecasPCPList .qtdb,
  #listaPecasPCPList .qtdpro,
  #listaPecasPCPList .qtdalm { text-align: center; }

  /* desc: elipse no grid; tooltip mostra o texto completo */
  #listaPecasPCPList .desc {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  /* tooltip flutuante */
  .pcp-tip {
    position: fixed;
    z-index: 9999;
    max-width: 60ch;
    pointer-events: none;
    background: rgba(18,18,20,0.98);
    color: #fff;
    padding: 8px 10px;
    border-radius: 8px;
    box-shadow: 0 6px 18px rgba(0,0,0,.35);
    font-size: 12.5px;
    line-height: 1.35;
    transform: translate(-50%, calc(-100% - 10px));
    opacity: 0;
    transition: opacity .08s ease-out;
  }
  .pcp-tip.show { opacity: 1; }

  /* ——— Login sempre no topo ——— */
.overlay-app {
  position: fixed;
  inset: 0;                 /* top/right/bottom/left:0 */
  z-index: 12000 !important;/* acima de qualquer modal/tabela/tooltip */
  pointer-events: all;
}

.overlay-app.is-active {    /* já existia, reforço para interação */
  visibility: visible;
  opacity: 1;
  pointer-events: all;
}

/* o conteúdo do popup também ganha uma camada própria */
.overlay-app .auth-popup {
  position: relative;
  z-index: 12001;           /* acima do backdrop */
}

/* ==== Colaboradores (escopo local) ==== */
.colab-pane .colab-list {
  list-style: none;
  margin: 12px 0 0;
  padding: 0;
  border-radius: 12px;
  overflow: hidden;
}

.colab-pane .row {
  display: grid;
  grid-template-columns: 80px 1fr 1fr 140px; /* ID | Usuário | Papéis | Ações */
  gap: 12px;
  align-items: center;
  padding: 12px 16px;
  border-bottom: 1px solid #2a2e39;
}

.colab-pane .row.header-row {
  font-weight: 600;
  color: #cfd3dc;
  background: #1f2430;
}

.colab-pane .row:last-child { border-bottom: none; }
.colab-pane .col.acoes { justify-self: end; }
.colab-pane .loading, .colab-pane .error { padding: 16px; }

/* Adicione ao seu CSS */
.spinner {
  vertical-align: middle;
  margin-left: 8px;
}


.user-badge .is-ghost {
  opacity: 0.6;
  font-style: italic;
}

/* Grupo guardado por login: estilo básico pra quando está desabilitado */
.auth-group .auth-disabled {
  opacity: 0.55;
  cursor: not-allowed;
  pointer-events: auto; /* mantemos para capturar o clique e mostrar dica */
  filter: grayscale(0.2);
}

/* micro feedback ao tentar clicar deslogado */
.auth-group .auth-bump {
  transform: translateY(-1px);
}

/* se quiser ainda mais claro, quando hover */
.auth-group .auth-disabled:hover {
  transform: none;
}

/* PCP – compactar filtros */
#codeFilterPCP,
#descFilterPCP {
  flex: none !important;
  height: 24px !important;
  padding: 2px 6px !important;
  font-size: 12px !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 4px !important;
}

/* PCP: destaque quando Qtd > Arm Pro */
.pcp-warn {
  color: #d32f2f;    /* vermelho material-ish */
  font-weight: 700;  /* deixa mais evidente */
}
.pcp-warn input {
  color: #d32f2f;
  font-weight: 700;
}

/* larguras específicas */
#codeFilterPCP { width: 120px !important; }
#descFilterPCP { width: 200px !important; }

/* Botões ícone na coluna Ação */
/* Botões ícone na coluna Ação */
.icon-btn, .produce-btn {
  position: relative;                 /* para centralizar o SVG */
  display: inline-block;
  width: 28px;
  height: 24px;
  padding: 0 !important;
  line-height: 0;
  text-align: center;
  border-radius: 9999px;
  border: 1px solid var(--border-color);
  background: #1f2937;
  cursor: pointer;
  transition: transform .08s ease, background .15s ease;
}
.icon-btn:hover, .produce-btn:hover { transform: translateY(-1px); background:#111827; }
.icon-btn:active, .produce-btn:active { transform: translateY(0); }

.icon-btn svg, .produce-btn svg {
  position: absolute;                 /* centrado matemático */
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 16px;
  height: 16px;
  display: block;
  margin: 0 !important;               /* mata qualquer margem herdada */
}

.produce-btn { border-color:#2563eb; }
.produce-btn svg { fill:#facc15; }     /* amarelo produção */


/* feedback opcional quando aciona produzir */
.blink-success { animation: blinkSuccess .6s ease 2; }
@keyframes blinkSuccess {
  0%,100% { background: transparent; }
  50%     { background: rgba(34,197,94,0.15); }
}

/* Coluna Ação: centralizar os botões-ícone */
.data-row .acao {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  min-width: 84px;
}


.icon-btn, .produce-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 24px;
  padding: 0 !important;
  line-height: 0;
  text-align: center;
  border-radius: 9999px;
  border: 1px solid var(--border-color);
  background: #1f2937;
  cursor: pointer;
  transition: transform .08s ease, background .15s ease;
}
.icon-btn svg, .produce-btn svg { display:block; margin:0; }
.produce-btn { border-color:#2563eb; }
.produce-btn svg { fill:#facc15; } /* amarelo produção */

/* Botão-ícone inline, usado em títulos de seção (ex.: Estrutura de produto) */
.icon-inline-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:32px; height:32px;
  border:1px solid #ddd; border-radius:8px;
  background:#f8f9fa; cursor:pointer;
  transition:background .15s,border-color .15s,transform .04s;
}
.icon-inline-btn:hover{ background:#eef2ff; border-color:#c7d2fe; }
.icon-inline-btn:active{ transform:translateY(1px); }
.icon-inline-btn svg{ display:block; }

/* Botão-ícone ao lado do título "Estrutura de produto" */
.icon-inline-btn{
  background: transparent;           /* nada de quadrado branco */
  border: none;
  padding: 4px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  color: var(--theme-color);         /* ícone acompanha o tema */
  line-height: 1;
  cursor: pointer;
  transition: background .2s, opacity .2s;
}
.icon-inline-btn:hover { background: var(--hover-menu-bg); }
.icon-inline-btn:focus { outline: 2px solid var(--border-color); outline-offset: 2px; }

/* garante que o svg use a cor do texto */
.icon-inline-btn svg{
  width: 18px; height: 18px;
  display: block;
  stroke: currentColor;
  fill: none;
}

/* contraste em modo claro */
.light-mode .icon-inline-btn { color: #333; }

/* Ajuste para conter a descrição */
.desc {
  overflow: hidden;           /* esconde o que ultrapassar */
  text-overflow: ellipsis;   /* mostra reticências */
  white-space: nowrap;       /* impede quebra de linha */
  min-width: 0;              /* permite que o texto seja truncado */
  max-width: 100%;           /* não ultrapassa a largura da coluna */
  padding-right: 10px;       /* mantém espaço da próxima coluna */
}

/* — Ações (trocar, expandir, abrir) — */
#estruturaProduto #malha .acoes{
  display:flex; justify-content:center; align-items:center; gap:8px;
}

#estruturaProduto #malha .icon-btn{
  width:28px; height:28px;
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:8px; border:1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.06);
  cursor:pointer;
  transition: transform .08s ease, background .12s ease, border-color .12s ease;
    color: #fff;                             /* <- ícone branco */
  background: rgba(255,255,255,.06);       /* mantém o fundo atual */
  border: 1px solid rgba(255,255,255,.10); /* borda sutil */
}
/* Força os SVGs das ações a usarem a cor do botão (branco) */
#estruturaProduto #malha .icon-btn svg,
#estruturaProduto #malha .icon-btn svg *{
  stroke: currentColor !important;
  fill: none !important;
}


#estruturaProduto #malha .icon-btn:hover{
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.16);
  transform: translateY(-1px);
}

#estruturaProduto #malha .icon-btn:active{
  transform: translateY(0);
}

#estruturaProduto #malha .icon-btn .i{
  width:18px; height:18px; display:block;
}

/* mantém alinhamento das colunas numéricas */
#estruturaProduto #malha .qtd,
#estruturaProduto #malha .unidade,
#estruturaProduto #malha .custo-real{ text-align:center; }

/* ===== Sub-estrutura (linha expandida) ===== */
#estruturaProduto #malha li.sub-estrutura-row{ padding: 0; }
#estruturaProduto #malha li.sub-estrutura-row > .sub-estrutura{
  grid-column: 1 / -1;               /* ocupa todas as colunas da linha principal */
  margin: 8px 0 10px;
  padding: 8px 10px 12px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 10px;
}
#estruturaProduto #malha li.sub-estrutura-row .sub-title{
  font-weight: 600; margin: 0 0 6px; opacity: .9;
}

/* grade da lista interna (mesmo layout da principal) */
#estruturaProduto #malha li.sub-estrutura-row ul.malha-sub{
  list-style: none; margin: 0; padding: 0;
}
#estruturaProduto #malha li.sub-estrutura-row ul.malha-sub li{
  display: grid;
  grid-template-columns: 120px minmax(0,1fr) 60px 70px 90px 120px;
  column-gap: 1rem;
  align-items: center;
  padding: 6px 12px;
}
#estruturaProduto #malha li.sub-estrutura-row ul.malha-sub li > div:nth-child(2){
  min-width: 0;                      /* permite ellipsis na 2ª coluna */
}
#estruturaProduto #malha li.sub-estrutura-row .desc{
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 0; padding-right: 10px;
}
#estruturaProduto #malha li.sub-estrutura-row .acoes{
  display: flex; gap: 8px; justify-content: flex-end; align-items: center;
}
/* herda ícones brancos do botão principal */
#estruturaProduto #malha .icon-btn svg,
#estruturaProduto #malha .icon-btn svg *{
  stroke: currentColor; fill: none;
}



/* ===== Sub-estrutura (sem cabeçalho, mesma grade, cor diferente) ===== */
#estruturaProduto #malha li.sub-estrutura-row{ padding: 0; }
#estruturaProduto #malha li.sub-estrutura-row > .sub-estrutura{
  grid-column: 1 / -1;
  margin: 8px 0 10px;
  padding: 6px 8px 10px;
  background: rgba(255,255,255,.035);      /* cor diferente */
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 10px;
}
#estruturaProduto #malha li.sub-estrutura-row ul.malha-sub{
  list-style: none; margin: 0; padding: 0;
}
#estruturaProduto #malha li.sub-estrutura-row ul.malha-sub li{
  display: grid;
  grid-template-columns: 120px minmax(0,1fr) 60px 70px 90px 120px; /* igual principal */
  column-gap: 1rem;
  align-items: center;
  padding: 6px 12px;
  background: rgba(255,255,255,.02);       /* linhas com leve contraste */
  border-radius: 8px;
}
#estruturaProduto #malha li.sub-estrutura-row ul.malha-sub li + li{
  margin-top: 6px;
}
#estruturaProduto #malha li.sub-estrutura-row ul.malha-sub li > div:nth-child(2){
  min-width: 0;
}
#estruturaProduto #malha li.sub-estrutura-row .desc{
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 0; padding-right: 10px;
}
#estruturaProduto #malha li.sub-estrutura-row .acoes{
  display: flex; gap: 8px; justify-content: flex-end; align-items: center;
}


/* garante ícones brancos */
#estruturaProduto #malha .icon-btn svg,
#estruturaProduto #malha .icon-btn svg *{
  stroke: currentColor;
  fill: none;
}

/* — Linhas filhas: mesma grade, outra cor — */

/* === Sub-estrutura: cabeçalho do grupo (linha inteira) ================== */
/* Deixa muito claro que essas linhas pertencem ao item clicado */
#estruturaProduto #malha li.child-group-header{
  display: grid;
  grid-template-columns: 1fr;        /* ocupa toda a linha */
  padding: 6px 18px 2px;
  margin-top: 8px;
}
#estruturaProduto #malha li.child-group-header .child-group-title{
  display: flex; align-items: center; gap: 8px;
  font-size: .92rem; font-weight: 600; letter-spacing: .2px;
  color: #cfe3ff;                     /* título azulado */
  text-transform: none;
}
#estruturaProduto #malha li.child-group-header .child-group-title .pip{
  width: 10px; height: 10px; border-radius: 50%;
  background: rgba(59,130,246,.9);    /* bolinha azul */
  box-shadow: 0 0 0 4px rgba(59,130,246,.18); /* aura */
}

/* === Sub-estrutura: bloco visual contínuo =============================== */
/* já existe o .child-row; aqui intensificamos a borda “em bloco” e o recuo */
#estruturaProduto #malha li.child-row{
  position: relative;
  background: rgba(59,130,246,.08);                 /* azul claro */
  /* barra de conexão à esquerda para “nidar” visualmente */
  border-left: 4px solid rgba(59,130,246,.45);
  padding-left: 14px;                                /* compensa a barra */
  box-shadow:
    inset -2px 0 0 rgba(59,130,246,.30);            /* lateral direita sutil */
}
#estruturaProduto #malha li.child-row.child-first{
  border-top-left-radius: 10px; border-top-right-radius: 10px;
  box-shadow:
    inset -2px 0 0 rgba(59,130,246,.30),
    inset 0 2px 0 rgba(59,130,246,.45);
}
#estruturaProduto #malha li.child-row.child-last{
  border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;
  margin-bottom: 10px;
  box-shadow:
    inset -2px 0 0 rgba(59,130,246,.30),
    inset 0 -2px 0 rgba(59,130,246,.45);
}
/* espaço suave entre as linhas internas sem quebrar a moldura */
#estruturaProduto #malha li.child-row + li.child-row{ margin-top: 4px; }

/* Ícones dentro da sub-lista ligeiramente “desbotados” para não disputar com o título */
#estruturaProduto #malha li.child-row .icon-btn{ opacity: .9 }
#estruturaProduto #malha li.child-row .icon-btn:hover{ opacity: 1 }

/* (opcional) sublinha a descrição só dentro das child-row quando hover */
#estruturaProduto #malha li.child-row:hover .desc{
  text-decoration: underline; text-decoration-color: rgba(59,130,246,.6);
}

#estruturaProduto #malha li.child-row{
  background: rgba(59,130,246,.08);        /* azul claro discreto */
  border-radius: 0;                         /* o raio vem no primeiro/último */
  /* laterais do bloco (contínuas) */
  box-shadow:
    inset 2px 0 0 rgba(59,130,246,.45),     /* borda esquerda do grupo */
    inset -2px 0 0 rgba(59,130,246,.45);    /* borda direita do grupo */
}

/* primeira do grupo: ativa topo + cantos */
#estruturaProduto #malha li.child-row.child-first{
  margin-top: 8px;                          /* “margem” superior do bloco */
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  box-shadow:
    inset 2px 0 0 rgba(59,130,246,.45),
    inset -2px 0 0 rgba(59,130,246,.45),
    inset 0 2px 0 rgba(59,130,246,.45);     /* linha do topo */
}

/* última do grupo: ativa fundo + cantos */
#estruturaProduto #malha li.child-row.child-last{
  margin-bottom: 10px;                      /* “margem” inferior do bloco */
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  box-shadow:
    inset 2px 0 0 rgba(59,130,246,.45),
    inset -2px 0 0 rgba(59,130,246,.45),
    inset 0 -2px 0 rgba(59,130,246,.45);    /* linha de base */
}

/* leve respiro entre as linhas internas, sem quebrar a moldura */
#estruturaProduto #malha li.child-row + li.child-row{
  margin-top: 4px;
}


/* ícones sempre brancos */
#estruturaProduto #malha .icon-btn svg,
#estruturaProduto #malha .icon-btn svg *{
  stroke: currentColor !important;
  fill: none !important;
}

/* Estrutura: escondido por padrão; o JS exibe quando houver filhos */
#estruturaProduto #malha .icon-btn[data-action="estrutura"]{
  display: none;
}

/* ===== Editor de Troca (inline, 1 campo) ===== */
#estruturaProduto #malha li.swap-row{
  display: grid;
  grid-template-columns: 120px minmax(0,1fr) 60px 70px 90px 120px; /* igual à tabela */
  column-gap: 1rem;
  align-items: start;
  padding: 8px 12px;
  background: rgba(234,179,8,.08); /* âmbar sutil p/ “modo edição” */
  border-radius: 10px;
  box-shadow:
    inset 2px 0 0 rgba(234,179,8,.35),
    inset -2px 0 0 rgba(234,179,8,.35),
    inset 0 2px 0 rgba(234,179,8,.35),
    inset 0 -2px 0 rgba(234,179,8,.35);
  margin: 6px 0 8px;
}

#estruturaProduto #malha .swap-label{ font-size:12px; opacity:.8; margin-bottom:4px; display:block; }
#estruturaProduto #malha .swap-input{
  width:100%; height:32px;
  border-radius:8px; border:1px solid rgba(255,255,255,.15);
  background: rgba(255,255,255,.06); color:#fff; padding:6px 10px; outline:none;
}
#estruturaProduto #malha .swap-input:focus{
  border-color: rgba(234,179,8,.65); background: rgba(255,255,255,.10);
}

#estruturaProduto #malha .swap-actions{ display:flex; gap:8px; justify-content:flex-end; align-items:center; }
#estruturaProduto #malha .swap-btn{
  height:32px; padding:0 10px; border-radius:8px; cursor:pointer;
  border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.08); color:#fff;
}
#estruturaProduto #malha .swap-btn:hover{ background: rgba(255,255,255,.14); border-color: rgba(255,255,255,.22); }

/* Resultados ocupam a linha inteira abaixo */
#estruturaProduto #malha .swap-results{ grid-column: 1 / -1; margin-top: 8px; max-height: 260px; overflow:auto;
  background: rgba(0,0,0,.25); border:1px solid rgba(255,255,255,.12); border-radius: 10px; }
#estruturaProduto #malha .swap-results ul{ list-style:none; margin:0; padding:6px; }
#estruturaProduto #malha .swap-results li{
  padding:8px 10px; border-radius:8px; cursor:pointer;
  display:grid; grid-template-columns: 140px minmax(0,1fr); column-gap: 12px; align-items:center;
}
#estruturaProduto #malha .swap-results li:hover{ background: rgba(234,179,8,.20); }
#estruturaProduto #malha .swap-results .codigo{ font-weight:600; opacity:.95; }
#estruturaProduto #malha .swap-results .descricao{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; min-width:0; }

/* Destaque do termo digitado */
#estruturaProduto #malha mark.hi{ background: rgba(234,179,8,.6); color:#111; padding:0 .08em; border-radius:3px; }


#estruturaProduto #malha .qtd,
#estruturaProduto #malha .unidade,
#estruturaProduto #malha .custo-real { text-align: center; }
/* Operação fica padrão (esquerda); se quiser nomear classe: */
#estruturaProduto #malha .operacao { text-align:left; }

/* Spinner da aba "Estrutura de produto" (independente) */
#estruturaSpinner{
  display:none;           /* visível só durante import/atualizações */
  width:18px; height:18px;
  align-items:center;
  margin-left:.5rem;
}
#estruturaSpinner svg{ width:100%; height:100%; display:block; }
@keyframes estrutura-rot { to { transform: rotate(360deg); } }
#estruturaSpinner .estrutura-spin{
  transform-origin:50% 50%;
  animation: estrutura-rot .8s linear infinite;
  stroke: currentColor; stroke-width:4; fill:none; stroke-linecap:round;
  stroke-dasharray: 90; stroke-dashoffset: 60;
}

/* Spinner da aba "Estrutura de produto" — mesmo visual do Kanban */
#estruturaSpinner{
  display: none;            /* fica oculto por padrão */
  align-items: center;
  gap: 6px;
}

#estruturaSpinner .kanban-spinner{
  display: inline-block !important; /* sobrepõe regra global do Kanban */
  font-size: 16px;                  /* mesmo tamanho usado no Kanban */
  width: 16px;
  height: 16px;
  line-height: 16px;
}

/* ======================================================================
   PCP – Lista de peças (guia PCP)
   PATCH V3 — garante visibilidade da coluna "Ação":
   - Ajusta a malha para caber sem cortar (larguras mais compactas);
   - Ativa overflow-x:auto no UL da PCP quando em modo grid-pecas;
   - Mantém tudo escopado à PCP sem afetar outras áreas.
   Layout: Código | Descrição | Unid | Qtd | Qtd prod | Qtd Pro | Qtd Alm | Ação
   ====================================================================== */

/* PCP – grade padrão: Código | Descrição | Unid | Qtd | Qtd prod | Arm Pro | Almox | Ação */
#listaPecasPCPList {
  /* Usamos uma variável para compartilhar o mesmo grid entre header e linhas */
  --pcp-grid: 150px                /* Código (mais largo p/ evitar truncar demais) */
               minmax(160px,0.65fr)/* Descrição (reduz um pouco para abrir espaço ao código) */
               60px                /* Unid */
               60px                /* Qtd */
               70px                /* Qtd prod */
               60px                /* Arm Pro */
               60px                /* Arm Alm */
               minmax(160px,0.25fr);/* Ação: ícones com folga */
}

#listaPecasPCPList.grid-pecas {
  width: 100%;
  overflow-x: auto; /* segurança em telas muito estreitas */
}

/* Cabeçalho e linhas de dados usam a mesma malha */
#listaPecasPCPList .header-row,
#listaPecasPCPList li.data-row {
  display: grid;
  grid-template-columns: var(--pcp-grid);
  column-gap: 12px;
  align-items: center;
}

/* MUITO IMPORTANTE: permitir encolhimento da célula em grids */
#listaPecasPCPList .desc {
  min-width: 0;                 /* sem isto, a descrição empurra e corta os botões */
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

/* Ajuste da célula de ações para não encolher demais */
/* PCP — célula de ações alinhada à ESQUERDA e na ordem LTR */
#listaPecasPCPList .acao {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* antes: flex-end */
  gap: 8px;
  min-width: 200px;            /* ajuste que você já vinha usando */
  overflow: visible;
}

/* override seguro só na PCP */
#listaPecasPCPList.grid-pecas .acao { justify-content: flex-start !important; }

/* PCP — título da coluna Ação alinhado à esquerda */
#listaPecasPCPList .header-row > *:last-child {
  text-align: left;
  justify-content: flex-start;
}


/* Botões não devem “shrinkar” dentro do flex */
#listaPecasPCPList .acao .icon-btn {
  flex: 0 0 auto;
  width: 36px;
  height: 36px;
  padding: 6px;
}



#listaPecasPCPList.grid-pecas li {
  display: grid !important;
  white-space: normal !important;
  grid-template-columns: var(--pcp-grid) !important;
  gap: 8px;
  align-items: center;
  padding: 8px 18px;
  box-sizing: border-box;
}

/* Cabeçalho fixo com a mesma grade */
#listaPecasPCPList.grid-pecas li.header-row {
  position: sticky;
  top: 0;
  z-index: 2;
  background: rgba(16,18,27,0.92);
  backdrop-filter: blur(4px);
  border-bottom: 1px solid var(--border-color);
  font-weight: bold;
  text-align: center;
}
#listaPecasPCPList.grid-pecas li.header-row > .cod,
#listaPecasPCPList.grid-pecas li.header-row > .desc {
  text-align: left;
}

/* Descrição com elipse */
#listaPecasPCPList.grid-pecas .desc {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
}

#listaPecasPCPList .cod {
  display:flex;
  align-items:center;
  gap:6px;
  min-width:0;
  overflow:hidden;
}
#listaPecasPCPList .cod > span {
  flex:1;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
#listaPecasPCPList .cod .pp-select-item{
  flex:1;
  min-width:0;
}

/* Números centralizados e tabulares */
#listaPecasPCPList.grid-pecas .unid,
#listaPecasPCPList.grid-pecas .qtd,
#listaPecasPCPList.grid-pecas .qtdprod,
#listaPecasPCPList.grid-pecas .qtdpro,
#listaPecasPCPList.grid-pecas .qtdalm {
  text-align: center;
  font-variant-numeric: tabular-nums;
}

/* Ação centralizada sem quebra e com largura mínima coerente */
#listaPecasPCPList.grid-pecas .acao {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  min-width: 80px;   /* segurança extra para não "sumir" ao encolher a grade */
  overflow: hidden;
}
#listaPecasPCPList.grid-pecas .acao svg {
  width: 16px;
  height: 16px;
  margin: 0 !important;
}


/* ── PCP: sub-estrutura (abre logo abaixo da linha) ─────────────────── */
#listaPecasPCPList .pcp-subestrutura { padding: 0; }
#listaPecasPCPList .pcp-subestrutura > .sub-wrap{
  grid-column: 1 / -1;
  margin: 8px 0 10px;
  padding: 8px 12px 10px;
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 10px;
}
#listaPecasPCPList .pcp-subestrutura .sub-title{
  font-weight: 600; margin: 0 0 6px; opacity: .9;
}
#listaPecasPCPList .pcp-subestrutura .sub-grid{
  list-style: none; margin: 0; padding: 0;
  overflow-x: auto;
}
/* Cod | Desc | Unid | Qtd | Qtd prod | Qtd Pro | Qtd Alm | Ação */
/* Grid da sub-estrutura: Cod | Desc | Unid | Qtd | Qtd prod | Qtd Pro | Qtd Alm | Ação */
#listaPecasPCPList .pcp-subestrutura .sub-grid .child-row,
/* Header da sub-estrutura */
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header{
  display: grid;
  grid-template-columns: var(--pcp-grid, 130px minmax(200px,0.75fr) 50px 50px 52px 50px 50px minmax(150px,0.25fr));
  column-gap: 12px;
  align-items: center;
  padding: 6px 18px;
  width: 100%;
  min-width: 850px; /* mantém espaço mínimo p/ coluna de ação; ativa scroll horizontal quando necessário */
  border-radius: 8px;
}

#listaPecasPCPList .pcp-subestrutura .sub-grid .child-row{
  background: rgba(16,18,27,0.58);
  border: 1px solid rgba(255,255,255,.10);
  font-weight: 500;
}


/* Header da sub-estrutura */
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header{
  position: sticky;
  top: 0;
  z-index: 1;
  margin: 6px 0 4px;
  background: rgba(16,18,27,0.6);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 8px;
  font-weight: 600;
}
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .cod,
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .desc{
  text-align: left;
}
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .unid,
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .qtd,
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .qtdprod,
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .qtdpro,
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .qtdalm,
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .acao{
  text-align: center;
}

#listaPecasPCPList .pcp-subestrutura .sub-grid .desc{
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 0;
}
#listaPecasPCPList .pcp-subestrutura .sub-grid .unid,
#listaPecasPCPList .pcp-subestrutura .sub-grid .qtd,
#listaPecasPCPList .pcp-subestrutura .sub-grid .qtdprod,
#listaPecasPCPList .pcp-subestrutura .sub-grid .qtdpro,
#listaPecasPCPList .pcp-subestrutura .sub-grid .qtdalm{
  text-align: center; font-variant-numeric: tabular-nums;
}
#listaPecasPCPList .pcp-subestrutura .sub-grid .acao{
  display:flex; justify-content:center; align-items:center;
  gap:6px; white-space:nowrap; min-width:0; max-width:100%;
  overflow:hidden; padding:0 6px;
}
#listaPecasPCPList .pcp-subestrutura .sub-grid .acao svg{ width:16px; height:16px; margin:0 !important; }
#listaPecasPCPList .pcp-subestrutura .sub-grid .acao .icon-btn{
  flex:0 0 36px;
}

#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header > *{
  display:flex;
  align-items:center;
  justify-content:center;
}
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .cod,
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header .desc{
  justify-content:flex-start;
}

/* ── PCP: agrupamento visual para itens de preparação (códigos PP) ─────────────────── */
#listaPecasPCPList.grid-pecas li.pcp-pp-group,
#listaPecasPCPList.grid-pecas li.pcp-section-divider{
  display: block !important;
  grid-template-columns: none !important;
  gap: 0 !important;
  padding: 0 !important;
}
#listaPecasPCPList .pcp-pp-group{ list-style:none; }
#listaPecasPCPList .pcp-section-divider{ list-style:none; }

#listaPecasPCPList .pcp-pp-card{
  margin: 12px 0 10px;
  padding: 12px 0 10px;
  border-radius: 12px;
  border: 1px solid rgba(34,197,94,0.28);
  background: rgba(34,197,94,0.08);
  box-shadow: inset 0 0 0 1px rgba(34,197,94,0.12);
}

#listaPecasPCPList .pcp-pp-card-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 0 18px 10px;
  font-size: .85rem;
}
#listaPecasPCPList .pcp-pp-master{
  display:flex;
  align-items:center;
  gap:10px;
  color: rgba(187,247,208,0.85);
  font-size:.85rem;
  letter-spacing:.02em;
  cursor: pointer;
}

#listaPecasPCPList .pcp-pp-master input,
#listaPecasPCPList .pcp-pp-card-list .pp-select-checkbox,
#listaPecasPCPList .pcp-parent-row .pp-select-checkbox{
  width: 18px;
  height: 18px;
  accent-color: #22c55e;
  cursor: pointer;
}

#listaPecasPCPList .pcp-pp-card-title{
  font-weight: 600;
  color: #22c55e;
}

#listaPecasPCPList .pcp-pp-card-actions{
  display:flex;
  align-items:center;
  gap:12px;
}
#listaPecasPCPList .pcp-pp-card-count{
  font-size: .72rem;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(34,197,94,0.22);
  color: rgba(240,253,244,0.9);
  text-transform: uppercase;
  letter-spacing: .1em;
}

#listaPecasPCPList .pcp-pp-card-produce{
  flex:0 0 auto;
}

#listaPecasPCPList .pcp-pp-card-list{
  list-style:none;
  margin: 0;
  padding: 0 0 8px;
  display:flex;
  flex-direction:column;
  gap: 6px;
}

#listaPecasPCPList .pcp-pp-card-list li.data-row{
  border-radius: 10px;
  border: 1px solid rgba(34,197,94,0.28);
  background: rgba(34,197,94,0.12);
}

#listaPecasPCPList .pcp-pp-card-list .pp-subitem-row{
  border-radius: 8px;
  border: 1px dashed rgba(34,197,94,0.2);
  background: rgba(13,148,136,0.15);
  font-size: 0.9rem;
  margin-top: 4px;
}
#listaPecasPCPList .pcp-pp-card-list .pp-subitem-row .cod{
  position: relative;
  padding-left: 16px;
  display:flex;
  align-items:center;
  gap:4px;
}
#listaPecasPCPList .pcp-pp-card-list .pp-subitem-row .cod::before{
  content: '↳';
  position: absolute;
  left: 0;
  color: rgba(34,197,94,0.85);
}
#listaPecasPCPList .pcp-pp-card-list .pp-subitem-row .cod .pp-select-item{
  margin-left: 8px;
}

#listaPecasPCPList .pcp-pp-card-list .pp-select-item,
#listaPecasPCPList .pcp-parent-row .pp-select-item{
  display:flex;
  align-items:center;
  gap:6px;
  cursor: pointer;
}
#listaPecasPCPList .pcp-pp-card-list .pp-select-item span,
#listaPecasPCPList .pcp-parent-row .pp-select-item span{
  flex:1;
  color: inherit;
  overflow:hidden;
  white-space:nowrap;
  text-overflow:ellipsis;
}
#listaPecasPCPList .pcp-pp-card-list .pp-select-item input,
#listaPecasPCPList .pcp-parent-row .pp-select-item input{
  flex:0 0 auto;
  width:16px;
  height:16px;
}

#listaPecasPCPList .pcp-parent-row{
  margin: 10px 0 6px;
  border-radius: 10px;
  border: 1px solid rgba(59,130,246,0.38);
  background: rgba(37,99,235,0.18);
  box-shadow: inset 0 0 0 1px rgba(37,99,235,0.25);
}
#listaPecasPCPList .pcp-parent-row .cod .pp-select-item{
  display:flex;
  align-items:center;
  gap:10px;
  cursor: pointer;
}
#listaPecasPCPList .pcp-parent-row .cod .pp-select-item span{
  flex:1;
  overflow:hidden;
  white-space:nowrap;
  text-overflow:ellipsis;
}
#listaPecasPCPList .pcp-parent-id{ display:none; }
#listaPecasPCPList .pcp-parent-row .qtd,
#listaPecasPCPList .pp-row .qtd{
  display:flex;
  align-items:center;
}
#listaPecasPCPList .pcp-parent-factor,
#listaPecasPCPList .pp-qtd-input{
  width:100%;
  padding:6px 10px;
  border-radius:8px;
  border:1px solid rgba(96,165,250,0.55);
  background: rgba(15,23,42,0.75);
  color:#f8fafc;
  font-size:0.95rem;
  outline:none;
  transition: border-color .12s ease, background .12s ease;
  text-align:right;
  font-variant-numeric: tabular-nums;
}
#listaPecasPCPList .pcp-parent-factor,
#listaPecasPCPList .pp-qtd-input{
  appearance: textfield;
  -webkit-appearance: textfield;
  -moz-appearance: textfield;
}
#listaPecasPCPList .pcp-parent-factor::-webkit-outer-spin-button,
#listaPecasPCPList .pcp-parent-factor::-webkit-inner-spin-button,
#listaPecasPCPList .pp-qtd-input::-webkit-outer-spin-button,
#listaPecasPCPList .pp-qtd-input::-webkit-inner-spin-button{
  -webkit-appearance: none;
  margin: 0;
}
#listaPecasPCPList .pp-row .pp-qtd-input{
  border-color: rgba(34,197,94,0.55);
  background: rgba(6,78,59,0.45);
}
#listaPecasPCPList .pcp-parent-factor:focus,
#listaPecasPCPList .pp-qtd-input:focus{
  border-color: rgba(125,211,252,0.85);
  background: rgba(15,23,42,0.95);
}
#listaPecasPCPList .pp-row .pp-qtd-input:focus{
  border-color: rgba(34,197,94,0.8);
  background: rgba(6,78,59,0.6);
}

#listaPecasPCPList .pcp-parent-row .acao.parent-actions{
  display:flex;
  justify-content:flex-start;
  align-items:center;
  gap:8px;
}

#listaPecasPCPList .pcp-section-divider{
  display:flex;
  align-items:center;
  gap: 12px;
  margin: 0;
  padding: 14px 18px 6px;
  font-size: .78rem;
  text-transform: uppercase;
  letter-spacing: .12em;
  color: rgba(226,232,240,0.65);
}
#listaPecasPCPList .pcp-section-divider span{
  flex:0 0 auto;
}
#listaPecasPCPList .pcp-section-divider::after{
  content:'';
  display:block;
  flex:1;
  height:1px;
  background: rgba(148,163,184,0.25);
}




/* ============================= FIM DO PATCH PCP V3 ============================= */

/* ======================================================================
   PCP — destaque visual para itens com PP + esconder botão Produzir
   (Use estas classes no HTML/JS já implementado)
   - Adicione a classe `is-pp` no elemento do código (ex.: <div class="cod is-pp">)
     ou na linha inteira com `pp` (ex.: <li class="data-row pp">).
   - Para itens que NÃO possuem PP, coloque a classe `no-pp` na linha.
   ====================================================================== */
:root{ --pp-green:#22c55e; } /* verde */

#listaPecasPCPList .cod.is-pp,
#listaPecasPCPList li.pp .cod,
#listaPecasPCPList .pp-code,
#listaPecasPCPList .pcp-subestrutura .cod.is-pp,
#listaPecasPCPList .pcp-subestrutura .child-row.pp .cod{
  color: var(--pp-green) !important;
  font-weight: 600;
}

/* Esconde o botão Produzir em itens sem PP */
#listaPecasPCPList li.no-pp .produce-btn,
#listaPecasPCPList .pcp-subestrutura .child-row.no-pp .produce-btn{
  display: none !important;
}

/* Ação: pequena folga extra para caber o novo botão “Trocar” */
#listaPecasPCPList.grid-pecas .acao{
  min-width: 112px;  /* era 80px; espaço p/ +1 ícone */
  gap: 8px;
}

/* Sub-estrutura: cabeçalho já incluído; apenas reforço de contraste */
#listaPecasPCPList .pcp-subestrutura .sub-grid .sub-header{
  background: rgba(16,18,27,0.72);
  border: 1px solid rgba(255,255,255,.14);
}
/* Códigos PP em verde (vence regras mais específicas do tema) */
#listaPecasPCPList li.data-row .cod.pp,
#listaPecasPCPList .pcp-subestrutura .child-row .cod.pp {
  color: #22c55e !important;
  font-weight: 600 !important;
}

/* ── Painel "Trocar produto" (PCP + Estrutura de produto) ─────────────────── */
#listaPecasPCPList li.pcp-troca,
#estruturaProduto #malha li.pcp-troca { padding: 0; }

#listaPecasPCPList li.pcp-troca > .troca-wrap,
#estruturaProduto #malha li.pcp-troca > .troca-wrap{
  grid-column: 1 / -1;
  margin: 8px 0 10px;
  padding: 10px 12px 12px;
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 10px;
}

#listaPecasPCPList .troca-title,
#estruturaProduto #malha .troca-title{ font-weight: 600; margin-bottom: 8px; opacity: .95; }

#listaPecasPCPList .troca-input-row,
#estruturaProduto #malha .troca-input-row{ margin-bottom: 8px; }

#listaPecasPCPList .troca-input,
#estruturaProduto #malha .troca-input{
  width: 100%; padding: 8px 10px; border-radius: 8px;
  border: 1px solid rgba(255,255,255,.15); background: rgba(0,0,0,.25);
  color: #fff; outline: none;
}
#listaPecasPCPList .troca-input:focus,
#estruturaProduto #malha .troca-input:focus{ border-color: rgba(255,255,255,.28); }

/* Lista de resultados (com espaçamento) */
#listaPecasPCPList .troca-results,
#estruturaProduto #malha .troca-results{
  list-style: none; margin: 6px 0 0; padding: 2px 2px 2px 0;
  max-height: 280px; overflow: auto;
  display: grid;
  grid-auto-rows: minmax(36px, auto);
  row-gap: 6px;
}
#listaPecasPCPList .troca-results > li,
#estruturaProduto #malha .troca-results > li{
  display: grid;
  grid-template-columns: 160px minmax(240px,1fr) minmax(120px,auto);
  column-gap: 1rem;
  align-items: center;
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
}
#listaPecasPCPList .troca-results > li:hover,
#estruturaProduto #malha .troca-results > li:hover{ background: rgba(255,255,255,.08); cursor: pointer; }
#listaPecasPCPList .troca-results > li.selected,
#estruturaProduto #malha .troca-results > li.selected{ outline: 2px solid rgba(255,255,255,.15); }

#listaPecasPCPList .troca-results .desc,
#estruturaProduto #malha .troca-results .desc{
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 0;
}

#listaPecasPCPList .troca-results .loading,
#listaPecasPCPList .troca-results .nores,
#listaPecasPCPList .troca-results .error,
#estruturaProduto #malha .troca-results .loading,
#estruturaProduto #malha .troca-results .nores,
#estruturaProduto #malha .troca-results .error{
  grid-column: 1 / -1; background: none; border: 0; padding: 4px 2px; border-radius: 0; opacity: .8;
}

/* PP em verde também nos resultados */
#listaPecasPCPList .troca-results .cod.pp,
#estruturaProduto #malha .troca-results .cod.pp{ color:#22c55e; font-weight:600; }

#listaPecasPCPList .troca-results .src,
#estruturaProduto #malha .troca-results .src{
  justify-self: end; opacity: .6; font-size: 12px; white-space: nowrap;
}


/* ============================================================
   PCP — FIX DEFINITIVO: ícones cortados dentro dos botões
   Escopo: APENAS na lista PCP (grid-pecas), sem afetar o resto.
   — Resolve conflitos de:
     • tamanhos divergentes de .icon-btn/.produce-btn
     • svg posicionado como absolute (cortava/ desalinhava)
     • overflow:hidden em ancestrais
   ============================================================ */

/* Nunca corte conteúdo das linhas/cabeçalho/coluna Ação na PCP */
#listaPecasPCPList.grid-pecas li,
#listaPecasPCPList.grid-pecas .header-row,
#listaPecasPCPList.grid-pecas .acao {
  overflow: visible !important;
  min-height: 38px;              /* garante altura mínima confortável */
}

/* Botões da coluna Ação: tamanho fixo, centrados por flex */
#listaPecasPCPList.grid-pecas .acao .icon-btn,
#listaPecasPCPList.grid-pecas .acao .produce-btn {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;

  width: 36px !important;
  height: 36px !important;
  padding: 0 !important;
  line-height: 0 !important;

  border-radius: 10px !important;
  flex: 0 0 auto !important;
  overflow: visible !important;   /* não aparar o SVG */
}

/* Ícones dentro dos botões: blocados e sem absolute (para não “cortar”) */
#listaPecasPCPList.grid-pecas .acao .icon-btn svg,
#listaPecasPCPList.grid-pecas .acao .produce-btn svg {
  display: block !important;
  width: 18px !important;
  height: 18px !important;

  position: static !important;    /* sobrepõe qualquer absolute herdado */
  left: auto !important;
  top: auto !important;
  transform: none !important;
  margin: 0 !important;
}



/* ============================================================
   PCP — ICON CLIP FIX v3 (prioridade alta, não-invasivo)
   - Garante caixa 40x40 nos botões de Ação
   - Reduz e centraliza QUALQUER tipo de ícone (svg, i.fa, pseudo ::before, texto)
   - Remove clipping por overflow/clip/mask em ancestrais
   - Mantém impacto restrito à PCP
   ============================================================ */

/* Nunca cortar conteúdo na PCP */
#listaPecasPCPList.grid-pecas,
#listaPecasPCPList.grid-pecas * {
  clip: auto !important;
  clip-path: none !important;
  -webkit-clip-path: none !important;
  mask: none !important;
  -webkit-mask: none !important;
}

#listaPecasPCPList.grid-pecas .header-row,
#listaPecasPCPList.grid-pecas li,
#listaPecasPCPList.grid-pecas .acao {
  overflow: visible !important;
}

#listaPecasPCPList.grid-pecas .acao {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-end !important;
  gap: 10px !important;
  min-width: 200px !important;
}

/* Caixa do botão — 40x40, centro perfeito, nada de corte */
#listaPecasPCPList.grid-pecas .acao .icon-btn,
#listaPecasPCPList.grid-pecas .acao .produce-btn {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 40px !important;
  height: 40px !important;
  padding: 0 !important;
  line-height: 0 !important;
  border-radius: 12px !important;
  box-sizing: border-box !important;
  overflow: visible !important;
  position: relative !important;
  flex: 0 0 auto !important;
}

/* Zera fontes do botão para que conteúdo interno controle o tamanho */
#listaPecasPCPList.grid-pecas .acao .icon-btn,
#listaPecasPCPList.grid-pecas .acao .produce-btn {
  font-size: 0 !important;
}

/* Quaisquer filhos do botão (svg, i, .fa, span, pseudo) centralizados e menores que a caixa */
#listaPecasPCPList.grid-pecas .acao .icon-btn > *,
#listaPecasPCPList.grid-pecas .acao .produce-btn > * {
  display: block !important;
  max-width: 22px !important;
  max-height: 22px !important;
  width: 22px !important;
  height: 22px !important;
  margin: 0 !important;
  transform: translateZ(0) scale(0.9) !important;
  transform-origin: 50% 50% !important;
  line-height: 1 !important;
  overflow: visible !important;
}

/* Suporte explícito a Font Awesome / ícones por texto */
#listaPecasPCPList.grid-pecas .acao .icon-btn i,
#listaPecasPCPList.grid-pecas .acao .icon-btn .fa,
#listaPecasPCPList.grid-pecas .acao .produce-btn i,
#listaPecasPCPList.grid-pecas .acao .produce-btn .fa,
#listaPecasPCPList.grid-pecas .acao .icon-btn::before,
#listaPecasPCPList.grid-pecas .acao .produce-btn::before {
  font-size: 18px !important;
  line-height: 1 !important;
  width: 22px !important;
  height: 22px !important;
  text-align: center !important;
}

/* SVG com traço não deve “estourar” */
#listaPecasPCPList.grid-pecas .acao .icon-btn svg,
#listaPecasPCPList.grid-pecas .acao .produce-btn svg {
  width: 22px !important;
  height: 22px !important;
  overflow: visible !important;
  stroke: currentColor;
  vector-effect: non-scaling-stroke;
}

/* Evita que cliques no ícone falhem por conta do scale */
#listaPecasPCPList.grid-pecas .acao .icon-btn > *,
#listaPecasPCPList.grid-pecas .acao .produce-btn > * {
  pointer-events: none !important;
}

/* Descrição realmente encolhe */
#listaPecasPCPList.grid-pecas .desc {
  min-width: 0 !important;
  overflow: hidden !important;
  white-space: nowrap !important;
  text-overflow: ellipsis !important;
}

/* PCP: desliga pseudo-ícones herdados e garante caixa dos botões */
#listaPecasPCPList.grid-pecas .acao .status-button::before,
#listaPecasPCPList.grid-pecas .acao .status-button::after,
#listaPecasPCPList.grid-pecas .acao .icon-btn::before,
#listaPecasPCPList.grid-pecas .acao .produce-btn::before {
  content: none !important;     /* remove “o  ‹” etc. */
}

#listaPecasPCPList.grid-pecas .acao .icon-btn,
#listaPecasPCPList.grid-pecas .acao .produce-btn,
#listaPecasPCPList.grid-pecas .acao .status-button {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 30px !important;
  height: 30px !important;
  padding: 0 !important;
  line-height: 0 !important;
  border-radius: 12px !important;
  overflow: visible !important;
}

#listaPecasPCPList.grid-pecas .acao .icon-btn svg,
#listaPecasPCPList.grid-pecas .acao .produce-btn svg,
#listaPecasPCPList.grid-pecas .acao .status-button svg {
  display: block !important;
  width: 22px !important;
  height: 22px !important;
}

/* === PCP • Painel de troca de produto (UI apenas) === */
.pcp-troca .troca-wrap{
  padding: 8px 10px;
  border-left: 3px solid var(--border-color, #3b82f6);
  background: var(--panel, rgba(255,255,255,0.04)); /* mantém tema escuro */
  color: var(--fg, #e5e7eb);                         /* texto claro no tema escuro */
  border-radius: 8px;
}

.pcp-troca .troca-title{
  font-weight: 600;
  margin-bottom: 6px;
}

.pcp-troca .troca-input{
  width: 100%;
  padding: 6px 8px;
  border: 1px solid var(--border, #374151);
  border-radius: 6px;
  background: var(--input-bg, rgba(0,0,0,.25));
  color: var(--fg, #e5e7eb);
  outline: none;
}

.pcp-troca .troca-results{
  list-style: none;
  margin: 8px 0 0;
  padding: 0;
  max-height: 240px;
  overflow: auto;
  border: 1px solid var(--border, #374151);
  border-radius: 6px;
  background: var(--panel, rgba(0,0,0,.25)); /* NÃO usar branco no tema escuro */
}

.pcp-troca .troca-results li{
  padding: 8px 10px;
  color: var(--fg, #e5e7eb);
}

.pcp-troca .troca-results li.info{
  opacity: .75;
}

.pcp-troca .troca-results li.error{
  color: #ffb4b4;
}

.pcp-troca .troca-item{
  display: grid;
  grid-template-columns: 160px 1fr;
  gap: 10px;
  align-items: center;
  cursor: pointer;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.pcp-troca .troca-item:last-child{ border-bottom: 0; }

.pcp-troca .troca-item:hover{
  background: rgba(255,255,255,.06);
}

.pcp-troca .troca-item .cod{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  white-space: nowrap;
}
.pcp-troca .troca-item .desc{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Badge "trocado" dentro da célula de Descrição, sem deslocar colunas */
.swap-pill{
  display: inline-block;
  margin-left: 6px;
  padding: 2px 6px;
  border-radius: 10px;
  border: 1px solid currentColor;
  font-size: 11px;
  line-height: 1;
  opacity: .8;
  vertical-align: middle;
}

/* PCP — descrição de item trocado: amarelo, sem selo */
.data-row .desc.desc-trocado,
.pcp-subestrutura .desc.desc-trocado{
  color: #facc15;         /* amarelo legível no tema escuro */
  font-weight: 600;       /* leve ênfase */
}

/* caso ainda exista algum .swap-pill no DOM antigo, esconder */
.swap-pill{ display: none !important; }

/* ============================================================
   FIM DO PATCH ICON CLIP FIX v3
   ============================================================ */

.transfer-select option.is-inactive {
  color: #888;
}


.transfer-qtd-bulk {
  width: 70px;
  padding: 2px 4px;
  background: #121212;
  border: 1px solid #333;
  color: #eee;
  border-radius: 4px;
  text-align: right;
  appearance: textfield;
  -moz-appearance: textfield;
}

.transfer-qtd-bulk:focus {
  outline: 1px solid #3fa7ff;
}

.transfer-qtd-bulk::-webkit-outer-spin-button,
.transfer-qtd-bulk::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* ============================================================
   NAVIGATION CARDS SYSTEM - Grid de Navegação Moderna
   ============================================================ */

.nav-hamburger {
  background: var(--primary-color);
  border: none;
  border-radius: 8px;
  color: white;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 20px;
}

.nav-hamburger:hover {
  background: #2563eb;
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.nav-hamburger.active {
  background: #1d4ed8;
}

.product-nav-grid {
  display: grid;
  grid-template-columns: repeat(3, 140px);
  gap: 16px;
  width: auto;
  padding: 0;
  background: rgba(30, 30, 30, 0.98) !important; /* Fundo quase opaco para dark mode */
  backdrop-filter: blur(10px);
}

.light-mode .product-nav-grid {
  background: rgba(255, 255, 255, 0.98) !important; /* Fundo quase opaco para light mode */
}

.product-nav-grid.collapsed {
  display: none;
}

.nav-card {
  background: var(--modal-bg-color);
  border: 2px solid var(--card-border-color);
  border-radius: 12px;
  padding: 20px 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  text-decoration: none;
  position: relative;
  overflow: hidden;
}

.nav-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  border-color: var(--primary-color);
}

.nav-card.active {
  border-color: var(--primary-color);
  background: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.05) 0%, 
    rgba(37, 99, 235, 0.08) 100%);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

.nav-card.active::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--primary-color);
}

.nav-card-action {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(37, 99, 235, 0.15) 100%);
}

.nav-card-action:hover {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(37, 99, 235, 0.2) 100%);
  border-color: var(--primary-color);
}

.nav-card-icon {
  width: 56px;
  height: 56px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 24px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

.nav-card:hover .nav-card-icon {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

.nav-card-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--content-title-color);
  text-align: center;
  line-height: 1.3;
  transition: color 0.3s ease;
}

.nav-card.active .nav-card-title {
  color: var(--primary-color);
}

/* Responsivo */
@media (max-width: 768px) {
  .product-nav-grid {
    grid-template-columns: repeat(2, 120px);
    gap: 12px;
  }
  
  .nav-card {
    padding: 16px 12px;
  }
  
  .nav-card-icon {
    width: 48px;
    height: 48px;
    font-size: 20px;
  }
  
  .nav-card-title {
    font-size: 12px;
  }
}

@media (min-width: 1400px) {
  .product-nav-grid {
    grid-template-columns: repeat(4, 140px);
  }
}

/* ============================================================
   TAB HEADERS - Sistema de Cabeçalhos Padronizados
   ============================================================ */

/* Container principal do cabeçalho da tab */
.tab-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}

/* Ícone do cabeçalho */
.tab-header-icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.tab-header-icon i {
  color: #fff;
  font-size: 18px;
}

/* Ícone pequeno (para estrutura) */
.tab-header-icon.small {
  width: 36px;
  height: 36px;
}

.tab-header-icon.small i {
  font-size: 16px;
}

/* Conteúdo textual */
.tab-header-content {
  flex: 1;
  min-width: 0;
}

.tab-header-title {
  margin: 0 0 4px 0;
  color: var(--content-title-color);
  font-size: 19px;
  font-weight: 600;
  line-height: 1.2;
}

.tab-header-subtitle {
  margin: 0;
  color: var(--inactive-color);
  font-size: 13px;
  line-height: 1.4;
}

/* Cards de seção com gradiente sutil */
.tab-section-card {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(0, 0, 0, 0.02) 100%);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
}

/* Variantes de cor por tema */
.tab-header-icon.theme-purple {
  background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
  box-shadow: 0 4px 12px rgba(109, 40, 217, 0.35);
}

.tab-header-icon.theme-cyan {
  background: linear-gradient(135deg, #06b6d4 0%, #0ea5e9 100%);
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.35);
}

.tab-header-icon.theme-blue {
  background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.35);
}

.tab-header-icon.theme-indigo {
  background: linear-gradient(135deg, #818cf8 0%, #4f46e5 100%);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.35);
}

.tab-header-icon.theme-green {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.35);
}

.tab-header-icon.theme-amber {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  box-shadow: 0 4px 12px rgba(245, 158, 11, 0.35);
}

.tab-header-icon.theme-sky {
  background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
  box-shadow: 0 4px 12px rgba(2, 132, 199, 0.35);
}

.tab-header-icon.theme-emerald {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.35);
}

/* Botões de ação padronizados */
.tab-action-btn {
  padding: 10px 16px;
  border: none;
  border-radius: 8px;
  color: white;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: all 0.2s;
  font-family: var(--body-font);
  font-size: 14px;
}

.tab-action-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.tab-action-btn:active {
  transform: translateY(0);
}

.tab-action-btn.btn-primary {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

.tab-action-btn.btn-success {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3);
}

/* Cards de conteúdo com gradientes sutis por tema */
.tab-section-card.theme-purple {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(139, 92, 246, 0.04) 100%);
}

.tab-section-card.theme-cyan {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(6, 182, 212, 0.04) 100%);
}

.tab-section-card.theme-blue {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(59, 130, 246, 0.04) 100%);
}

.tab-section-card.theme-indigo {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(99, 102, 241, 0.04) 100%);
}

.tab-section-card.theme-green {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(16, 185, 129, 0.04) 100%);
}

.tab-section-card.theme-amber {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(245, 158, 11, 0.04) 100%);
}

.tab-section-card.theme-emerald {
  background: linear-gradient(135deg, var(--content-bg) 0%, rgba(34, 197, 94, 0.04) 100%);
}

/* Modo claro - ajustes de cor */
.light-mode .tab-header-title {
  color: var(--theme-color);
}

.light-mode .tab-section-card {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* ========================================
   Kanban Card - Expandir/Recolher
   ======================================== */

.kanban-card-collapsed .kanban-op-list,
.kanban-card-collapsed .kanban-card-actions-wrapper {
  display: none !important;
}

.kanban-code-header {
  cursor: pointer;
  user-select: none;
  transition: background-color 0.2s ease;
}

.kanban-code-header:hover {
  background-color: rgba(255, 255, 255, 0.05);
  border-radius: 6px;
}

.kanban-toggle-icon {
  margin-left: auto;
  transition: transform 0.3s ease;
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.6);
}

.kanban-code-location {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.8);
  font-weight: 500;
}

.kanban-op-list {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  animation: expandDown 0.3s ease;
}

@keyframes expandDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.kanban-card-actions-wrapper {
  animation: expandDown 0.3s ease;
}

/* Cache bust 1768834639 */


/* Animação de spinner para carregamento */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Estilo para ícone de atualização quando há nova versão */
#config-icon.update-available {
  animation: spin 2s linear infinite;
  color: #ff9800;
  font-weight: bold;
}
