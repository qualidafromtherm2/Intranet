

"Meu site local"
http://localhost:5001/#

"utilize o seguinte comando para mexer com inicialização do hostlocal:"
"Se quer ficar no modo JSON (sem banco) para testar local o banco de dados localmente, utilize o seguinte comando:"
pm2 restart intranet_api --env json
pm2 save

"Se quer usar o Postgres do Render, ou seja o banco de dados remoto, utilize o seguinte comando:"
DATABASE_URL='postgresql://intranet_db_yd0w_user:amLpOKjWzzDRhwcR1NF0eolJzzfCY0ho@dpg-d2d4b0a4d50c7385vm50-a.oregon-postgres.render.com:5432/intranet_db_yd0w?sslmode=require' \
pm2 restart intranet_api --env pg
pm2 save

"Reinicia, verifica se está rodando e checar logs (bom para revisar logs aplicados ao projeto):"
# 1) Esvaziar os arquivos de log (sem apagar o processo)
pm2 flush

# 2) Reiniciar o serviço
pm2 restart intranet_api

# 3) Tailar só o que surgir a partir de agora
pm2 logs intranet_api


"para rodar o SITE AT"
cd ~/Projetos/intranet/Site_AT
PORT=3000 npm start   # ou 3000 se estiver livre

Metodo de orientação (para que a Omie me guie no modo padrão):"
Segue meu projeto em .zip, ele esta inteiro para vc consultar.
ao longo de nossas modificações, consulte ele para entender como meu projeto funcniona.
Sempre que eu pedir uma modificação eu vou enviar o arquivo atualizado para vc revisar se esta correto.
Me oriente da seguinte forma:
1 - Qual arquivo: Exemplo: server.js
2 - Localizar no ctrl+F: Exemplo: app.get('/api/omie/cliente', async (req, res) => {
3 - Substituir por: Exemplo: app.get('/api/omie/cliente', async (req, res) => {
4 - ou se para colar embaixo de: Exemplo: app.get('/api/omie/cliente', async (req, res) => {
5 - Se for uma função ou trecho que abre {, fechar com } no final, me envie o trecho completo.
6 - Sempre coloque comentario explicativo no inicio e onde aparecer necessário.
7 - De preferencia para sempre enviar a função completa, para evitar erros de sintaxe.
8- Dentro do .Zip tem um SQL na raiz que é uma copia do meu SQL que utilizo, caso seja preciso na solicitação, esta em anexo para consulta.
9- colocar no inicio da sua explicação de uma modificação o "Objetivo:" que é a explicação do porque vai ser aplicado ou modificado um codigo.
vamos entender como funciona primeiro p vc se localizar no que precisa mexer:


"Para baixar o SQL do render:"
"Dump completo (estrutura + dados)"
PGPASSWORD='amLpOKjWzzDRhwcR1NF0eolJzzfCY0ho' \
pg_dump \
  -h dpg-d2d4b0a4d50c7385vm50-a.oregon-postgres.render.com \
  -p 5432 \
  -U intranet_db_yd0w_user \
  --no-owner --no-privileges --encoding=UTF8 \
  intranet_db_yd0w \
  > intranet_db_yd0w_dump.sql

"Só a estrutura (schema, sem os dados)"
PGPASSWORD='amLpOKjWzzDRhwcR1NF0eolJzzfCY0ho' \
pg_dump \
  -h dpg-d2d4b0a4d50c7385vm50-a.oregon-postgres.render.com \
  -p 5432 \
  -U intranet_db_yd0w_user \
  --schema-only -n public \
  intranet_db_yd0w \
  > intranet_db_yd0w_schema.sql

"Compactar já na saída"
PGPASSWORD='amLpOKjWzzDRhwcR1NF0eolJzzfCY0ho' \
pg_dump \
  -h dpg-d2d4b0a4d50c7385vm50-a.oregon-postgres.render.com \
  -p 5432 \
  -U intranet_db_yd0w_user \
  intranet_db_yd0w \
  | gzip > intranet_db_yd0w_dump.sql.gz

"quando quiser trocar de modo"
"JSON → Postgres:"
DATABASE_URL='postgresql://...'?sslmode=require \
pm2 restart intranet_api --env pg
pm2 save
"Postgres → JSON:"
pm2 restart intranet_api --env json
pm2 save

"Sites uteis:"
https://www.w3schools.com/ // site de referência para HTML, CSS e JavaScript
https://codepen.io/kristen17/pen/NPKrxBd // exemplo para card de funncionarios.
https://www.brasilcode.com.br/page/2/ site de modelos e cursos html,css e java script


"Abaixo nomeclaturas de programação"
span - campo amarelo para digitação, ou seja, inserção de dados.
Modal - parecido com o card, porem flutuante.
Card - Quadrado ou retangulo para gerar informações dentro dele.
checkbox - campo de seleção de opções.
radio - campo de seleção de opções.
input - campo de digitação.
button - botão de ação.
select - campo de seleção de opções.
textarea - campo de digitação de texto.
label - campo de texto.
form - campo de formulário.
table - campo de tabela.
div - campo de divisão.
ul - campo de lista não ordenada.
ol - campo de lista ordenada.
li - campo de item de lista.
h1 - campo de titulo.


"Para iniciar o comando no terminal:"
PGPASSWORD=amLpOKjWzzDRhwcR1NF0eolJzzfCY0ho psql -h dpg-d2d4b0a4d50c7385vm50-a.oregon-postgres.render.com -U intranet_db_yd0w_user intranet_db_yd0w

"Veja o que existe hoje (dentro do sql):"
\df+ mover_op
SELECT pg_get_functiondef('mover_op(text,text)'::regprocedure);    